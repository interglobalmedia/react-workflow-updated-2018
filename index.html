<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>React Workflow</title>
    <meta name="description" content="How to create a React workflow without create-react-app using webpack.">
    <meta name="author" content="Maria D. Campbell">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/blood.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">
    <link rel="stylesheet" href="css/custom.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>

<body>
    <div class="reveal">
        <div class="slides">
            <section data-background="#ffc600">
                <h1>React</h1>
                <h2>workflows</h2>
                <h4>Without Create-React-App</h4>
                <p><small>Second Edition</small></p>
                <p>
                    <small>Created by <a href="https://interglobalmedia.github.io/portfolio/" target="_blank">Maria D. Campbell</a> / <a href="http://twitter.com/letsbsocial1" target="_blank">@letsbsocial1</a></small>
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>About This Presentation</h3>
                <p>
                    This is the <b>second edition</b> of my <b>React Workflows Without CRA</b>. If you want to acquaint yourself with the <b>first edition</b> as well, please visit the <a href="https://github.com/interglobalmedia/react-workflow-presentation">React
                    Workflow Presentation</a> repository. For a detailed map of this edition, please visit the <a href="https://github.com/interglobalmedia/react-workflow-updated-2018/tree/e26e04b76a5c1689a7e1c77ee0b9c63734797d01">README</a> of this edition's
                    repository.
                </p>

            </section>
            <section data-background="#ffc600">
                <h2>Hi There!</h2>
                <p class="fragment">
                    I'm Maria.
                </p>
            </section>
            <section data-background="#ffc600">
                <h2>About Me</h2>
                <p class="fragment">
                    I've always been <span class="fragment"><b><i>obsessed</i></b></span> with <span class="fragment"><b><i>development</i></b></span> and <span class="fragment"><b><i>construction</i></b></span> in one way or another.
                </p>
            </section>
            <section data-background="#ffc600">
                <h2>Background</h2>
                <ul>
                    <li class="fragment">Fashion design and manufacture.</li>
                    <li class="fragment">Graphics/production art.</li>
                    <li class="fragment">Now Fullstack JS, with a focus on React.</li>
                </ul>
            </section>
            <section data-background="#ffc600">
                <h1>?</h1>
                <p class="fragment">
                    So why am I here today to discuss <span class="fragment"><b>React workflows</b></span>?
                </p>
            </section>
            <section data-background="#ffc600">
                <h2>Simple.</h2>
                <p>
                    <span class="fragment">When I started learning React,</span> <span class="fragment">I was not happy with the fact</span> <span class="fragment">that virtually all React learning seemed to revolve</span> <span class="fragment">around using</span>                    <span class="fragment"><b><i>create-react-app</i></b></span> <span class="fragment">to create React applications.</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <a href="https://github.com/facebookincubator/create-react-app"><img width="400" height="300" src="images/horse-blinders.jpg" alt="Horse blinders"></a>
                <p class="fragment">
                    And that meant <span class="fragment"><b><i>blindly</i></b></span> accepting its extensive <span class="fragment">boiler-plate.</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <img src="images/hiddenman-580x504.jpg" width="480" height="404">
                <p>
                    <span class="fragment">Why <span class="fragment"><b><i>blindly</i></b></span>?</span> <span class="fragment">Because the workflow is <span class="fragment"><b><i>hidden</i></b></span> by default.</span> <span class="fragment">In order to see what is going on,</span>                    <span class="fragment">you have to eject out of <span class="fragment"><b><i>CRA</i></b>.</span></span>
                </p>
            </section>
            <section data-background="#ffc600">
                <a href="https://unsplash.com/photos/GVFaCidhlhQ"><img src="images/austin-neill-246598.jpg" width="600" height="350"></a>
                <p>
                    <span class="fragment">But once you eject,</span> <span class="fragment"><b><i>THERE IS NO GOING BACK!</i></b></span>
                </p>
            </section>
            <section data-background="#ffc600">
                <img src="images/defyingcertainty.jpg" width="560" height="477">
                <p class="fragment">
                    And one thing I know for sure ...
                </p>
            </section>
            <section data-background="#ffc600" data-background-image="images/deep.jpg" data-background-size="100%" data-background-position="center" data-background-repeat="no-repeat">
                <h3>Starting Over</h3>
                <p class="fragment" style="background: rgba(250, 235, 215, 0.6)">
                    <span class="fragment"><b><i>Sometimes</i></b></span> it's faster (and easier) to start from scratch than try to <span class="fragment"><b>manipulate</b></span> to your needs.
                </p>
            </section>
            <section data-background="#ffc600">
                <p>
                    And that's where
                </p>
                <h1 class="fragment">webpack</h1>
                <p class="fragment">
                    (4 and beyond) come in.
                </p>
            </section>
            <section data-background="#ffc600">
                <h1>?</h1>
                <p class="fragment">
                    So why <b><i>webpack</i></b>?
                </p>
            </section>
            <section data-background="#ffc600">
                <img class="fragment" width="400" height="300" data-src="images/gulp-grunt.jpg" alt="Grunt vs Gulp">
                <p class="fragment">
                    If done from scratch, it can mean fewer workflow files and lines of code. If you come from task runners like <span class="fragment"><b><i>Gulp</i></b></span> (I do) or <span class="fragment"><b><i>Grunt</i></b>,</span> you know what
                    I'm talking about.
                </p>
            </section>
            <section data-background="#ffc600">
                <a href="https://semaphoreci.com/community/tutorials/testing-common-redux-patterns-in-react-using-ava"><img width="600" height="333" data-src="images/cra.png" alt="Create-React-App"></a>
                <p>
                    <span class="fragment">And if you are familiar with <b><i>CRA</i></b>,</span> <span class="fragment">you know how extensive its boilerplate is.</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Nothing wrong with that</h3>
                <p class="fragment">
                    if your focus is on writing <span class="fragment"><b><i>JSX</i></b></span> and <span class="fragment"><b><i>JS</i></b></span> for the browser.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>The Problem</h3>
                <p class="fragment">
                    with that approach is that when developers start heavily relying on tools like that, they <b><i>can</i></b> lose site of the bigger picture.
                </p>
                <ul>
                    <li class="fragment">
                        Of how things work.
                    </li>
                    <li class="fragment">
                        Why they work as they do.
                    </li>
                    <li class="fragment">
                        What their options are.
                    </li>
                </ul>
            </section>
            <section data-background="#ffc600">
                <img src="images/homer-internet.jpg" width="640" height="480">
                <p>
                    Which can <b><i class="fragment">STUNT</i></b> one's growth as a developer.
                </p>
            </section>
            <section data-background="#ffc600">
                <h2 class="fragment">üêú</h2>
                <p>
                    I first got the bug to create my own custom React workflows when I created my first React application using <b><i>CRA</i></b>.
                </p>
            </section>
            <section data-background="#ffc600" data-background-image="images/blog_MyDebugger2.png" data-background-size="100%" data-background-position="center" data-background-repeat="no-repeat">
                <h3>Debugging Difficulties</h3>
                <p class="fragment" style="background: rgba(250, 235, 215, 0.6)">
                    I would get errors in my React projects which I sometimes found difficult to <b><i>debug</i></b>. They might or might not have been <b><i>CRA</i></b> related.
                </p>
            </section>
            <section data-background="#ffc600" data-background-image="images/react-redux-workflow.jpg" data-background-size="cover" data-background-position="center" data-background-repeat="no-repeat">
                <h3>Custom React Workflows</h3>
                <p class="fragment" style="background: rgba(250, 235, 215, 0.6)">
                    So I decided to start creating my own React workflows using <b><i>webpack</i></b>.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>What This React Workflow Supports</h3>
                <ul>
                    <li class="fragment">Eslint Configuration for React</li>
                    <li class="fragment">Jest Testing</li>
                    <li class="fragment"><b>Bundle Splitting</b> using the <b>SplitChunksPlugin</b></li>
                    <li class="fragment"><b>Code Splitting</b> using the <b>SplitChunksPlugin</b> and <b>dynamic imports</b></li>
                    <li class="fragment">CSS Modules</li>
                    <li class="fragment">.SCSS</li>
                    <li class="fragment">Image/File Import</li>
                </ul>
            </section>
            <section data-background="#ffc600">
                <h3>What This React Workflow Uses</h3>
                <ul>
                    <li class="fragment">React 16.6.3</li>
                    <li class="fragment">Webpack 4.3.0</li>
                    <li class="fragment">Babel 7</li>
                    <li class="fragment">ESLint 5.9.0</li>
                    <li class="fragment">Jest 23.6.0</li>
                </ul>
            </section>
            <section data-background="#ffc600">
                <p>package.json</p>
                <pre class="fragment"><code data-trim>
                {
                    "name": "speech-to-text-app",
                    "version": "0.0.1",
                    "private": true,
                    "description": "\"A voice controlled notes app that allows you to take notes by recording your voice\"",
                    "main": "index.js",
                    "scripts": {
                        "test": "jest",
                        "lint": "eslint .",
                        "clean": "rimraf dist",
                        "cleanSrc": "rimraf dist/src",
                        "start": "webpack-dev-server --mode development --config config/webpack.base.config.js --open --hot
                        --history-api-fallback --env.PLATFORM=local --env.VERSION=stag",
                        "predeploy": "webpack --mode production --config config/webpack.prod.config.js --env.PLATFORM=production
                        --env.VERSION=stag --progress",
                        "deploy": "gh-pages -d dist"
                    },
                    "jest": {
                        "setupFiles": [
                            "raf/polyfill"
                        ],
                        "moduleNameMapper": {
                            "\\.(pdf|jpg|jpeg|png|gif|eot|otf|webp|svg|ttf|woff|woff2|mp4|webm|wav|mp3|m4a|aac|oga)$": "<rootDir>/__mocks__/fileMock.js",
                            "\\.(css|less|scss)$": "identity-obj-proxy"
                        }
                    },
                    "author": "Maria D. Campbell",
                    "license": "ISC",
                    "dependencies": {
                        "@fortawesome/fontawesome-svg-core": "^1.2.8",
                        "@fortawesome/free-brands-svg-icons": "^5.5.0",
                        "@fortawesome/free-regular-svg-icons": "^5.5.0",
                        "@fortawesome/free-solid-svg-icons": "^5.5.0",
                        "@fortawesome/react-fontawesome": "^0.1.3",
                        "core-js": "^2.5.7",
                        "gh-pages": "^2.0.1",
                        "react": "^16.6.3",
                        "react-dom": "^16.6.3"
                    },
                    "devDependencies": {
                        "@babel/core": "^7.1.6",
                        "@babel/plugin-proposal-class-properties": "^7.1.0",
                        "@babel/plugin-proposal-export-namespace-from": "^7.0.0",
                        "@babel/plugin-proposal-throw-expressions": "^7.0.0",
                        "@babel/plugin-syntax-dynamic-import": "^7.0.0",
                        "@babel/polyfill": "^7.0.0",
                        "@babel/preset-env": "^7.1.5",
                        "@babel/preset-react": "^7.0.0",
                        "@babel/register": "^7.0.0",
                        "autoprefixer": "^9.3.1",
                        "babel-core": "^7.0.0-bridge.0",
                        "babel-eslint": "^10.0.1",
                        "babel-jest": "^23.6.0",
                        "babel-loader": "^8.0.4",
                        "clean-webpack-plugin": "^1.0.0",
                        "copy-webpack-plugin": "^4.6.0",
                        "css-loader": "^1.0.1",
                        "enzyme": "^3.7.0",
                        "eslint": "^5.9.0",
                        "eslint-config-airbnb": "^17.1.0",
                        "eslint-loader": "^2.1.1",
                        "eslint-plugin-import": "^2.14.0",
                        "eslint-plugin-jsx-a11y": "^6.1.2",
                        "eslint-plugin-react": "^7.11.1",
                        "file-loader": "^2.0.0",
                        "html-webpack-plugin": "^3.2.0",
                        "identity-obj-proxy": "^3.0.0",
                        "jest": "^23.6.0",
                        "jest-enzyme": "^7.0.1",
                        "mini-css-extract-plugin": "^0.4.4",
                        "node-sass": "^4.10.0",
                        "optimize-css-assets-webpack-plugin": "^5.0.1",
                        "postcss": "^7.0.5",
                        "postcss-loader": "^3.0.0",
                        "prop-types": "^15.6.2",
                        "raf": "^3.4.1",
                        "react-test-renderer": "^16.6.1",
                        "regenerator-runtime": "^0.12.1",
                        "rimraf": "^2.6.2",
                        "sass-loader": "^7.1.0",
                        "style-loader": "^0.23.1",
                        "uglifyjs-webpack-plugin": "^2.0.1",
                        "url-loader": "^1.1.2",
                        "webpack": "^4.3.0",
                        "webpack-cli": "^3.1.2",
                        "webpack-dev-server": "^3.1.10",
                        "webpack-manifest-plugin": "^2.0.4",
                        "webpack-merge": "^4.1.4",
                        "webpack-visualizer-plugin": "^0.1.11"
                    }
                }
                </code></pre>
                <p class="fragment">Please ignore the closing <code>rootdir</code> tag at the bottom of the <code>package.json</code>.</p>
            </section>
            <section data-background="#ffc600">
                <h3>What Has Not Changed (Jest)</h3>
                <pre class="fragment"><code data-trim>
                "jest": {
                    "setupFiles": [
                        "raf/polyfill"
                    ],
                </code></pre>
                <p class="fragment"><b class="fragment">React 16+</b> depends on <span class="fragment"><code>requestAnimationFrame</code>,</span> even in <span class="fragment"><b ><i>test
                environments</i></b>.</span> First install the <b class="fragment">raf</b> npm package, and then add this to your <span class="fragment"><b>package.json</b>.</span> This was the same in my previous workflow.</p>
            </section>
            <section data-background="#ffc600">
                <h3>What Has Changed (Jest)</h3>
                <pre class="fragment"><code data-trim>
                "moduleNameMapper": {
                    "\\.(pdf|jpg|jpeg|png|gif|eot|otf|webp|svg|ttf|woff|woff2|mp4|webm|wav|mp3|m4a|aac|oga)$": "<rootDir>/__mocks__/fileMock.js",
                    "\\.(css|less|scss)$": "identity-obj-proxy"
                }
                </code></pre>
                <p class="fragment">
                    Even though all that has changed here is adding <code class="fragment">|scss</code> to
                    <span class="fragment"><code>identity-obj-proxy</code>,</span> so much else changed that resulted in the need to add this to the
                    <code class="fragment">moduleNameMapper</code> property. Again, please ignore the closing <code class="fragment">rootdir</code> tag.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>What Has Not Changed (Jest devDeps)</h3>
                <pre class="fragment"><code data-trim>
                "babel-jest": "^23.6.0",
                "enzyme": "^3.7.0",
                "identity-obj-proxy": "^3.0.0",
                "jest": "^23.6.0",
                "jest-enzyme": "^7.0.1",
                "raf",
                "react-test-renderer": "^16.6.1",
                "regenerator-runtime": "^0.12.1",   
                </code></pre>
            </section>
            <section data-background="#ffc600">
                <h3>What Has Changed (Jest DevDeps)</h3>
                <pre class="fragment"><code data-trim>
                "@babel/core": "^7.1.6",
                "babel-core": "^7.0.0-bridge.0",
                </code></pre>
                <p class="fragment">These packages, along with
                    <code class="fragment">babel-jest</code> and
                    <code class="fragment">regenerator-runtime</code> are what is needed now in order to be able to use
                    <b class="fragment">Jest</b> with
                    <span class="fragment"><b>Babel 7</b>.</span> To learn more about using <b class="fragment">Babel</b> with <span class="fragment"><b>Jest</b>,</span> please visit
                    <a href="https://jestjs.io/docs/en/getting-started#using-babel">Using Babel</a>.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Configuring Babel 7</h3>
                <p class="fragment"><b>everything changed</b></p>
            </section>
            <section data-background="#ffc600">
                <h3>Configuring Babel 7</h3>
                <p class="fragment"><b>.babelrc</b></p>
                <pre class="fragment"><code data-trim>
                {
                    "presets": ["env", "react", "stage-1", "stage-2", "jest"]
                }
                </code></pre>
                <p class="fragment">Previously, the <b class="fragment">babel config</b> looked something like <b><i>this</i></b>.</p>
            </section>
            <section data-background="#ffc600">
                <h3>Configuring Babel 7</h3>
                <p class="fragment"><b>.babelrc</b></p>
                <pre class="fragment"><code data-trim>
                {
                    "presets": [
                        "@babel/preset-env",
                        "@babel/preset-react"
                    ],
                    "plugins": [
                        "@babel/plugin-syntax-dynamic-import",
                        "@babel/plugin-proposal-class-properties",
                        "@babel/plugin-proposal-export-namespace-from",
                        "@babel/plugin-proposal-throw-expressions"
                    ]
                }
                </code></pre>
                <p class="fragment"> Now, the <b class="fragment">babel config</b> looks something like <b><i>this</i></b>.</p>
            </section>
            <section data-background="#ffc600">
                <h3>Babel
                    < 7 Presets</h3>
                        <p class="fragment">
                            Before <span class="fragment"><b>Babel 7</b>,</span> proposal plugins were clumped together within their appropriate <span class="fragment"><b><i>presets</i></b>.</span> i.e., <span class="fragment"><b>stage-0</b>,</span>
                            <span class="fragment"><b>stage-1</b>,</span>
                            <span class="fragment"><b>stage-2</b>,</span> etc.
                        </p>
            </section>
            <section data-background="#ffc600">
                <h3>Babel 7 Presets</h3>
                <p class="fragment">
                    <b>.babelrc</b>
                </p>
                <pre class="fragment"><code data-trim>
                    "presets": [
                        "@babel/preset-env",
                        "@babel/preset-react"
                    ],
                </code></pre>
                <p class="fragment">
                    With <span class="fragment"><b>Babel 7</b>,</span> presets were removed from the <b class="fragment">webpack</b> <b class="fragment"><i>config</i></b> and only appear in the <code class="fragment">.babelrc</code> file. Only <b class="fragment">presets</b>                    which were actually <b class="fragment"><i>approved</i></b> appeared in the
                    <b class="fragment">presets</b> array.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Babel 7 Presets</h3>
                <pre class="fragment"><code data-trim>
                    "@babel/preset-env"
                </code></pre>
                <p class="fragment">
                    <code class="fragment">"@babel/preset-env"</code> is the <b class="fragment">Babel</b> <b><i>preset</i></b> which allows you to use the <b class="fragment"><i>latest</i></b> <b>JS</b>.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Babel 7 Presets</h3>
                <pre class="fragment"><code data-trim>
                    "@babel/preset-react"
                </code></pre>
                <p class="fragment">
                    <code class="fragment">"@babel/preset-react"</code> is the <b class="fragment">Babel</b> <b><i>preset</i></b> which allows you to use <b class="fragment"><i>React</i></b> code.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Babel 7 Presets</h3>
                <p class="fragment"><b>naming</b></p>
                <p class="fragment">
                    The <b class="fragment"><i>naming</i></b> of <b class="fragment">presets</b> changed with <b class="fragment">Babel
            7</b> to differentiate between the versions and maintain naming consistency throughout. Instead of simply adding
                    <code class="fragment">"env"</code> or <code class="fragment">"react"</code> to the <b>preset array</b>, you now <b><i>have</i></b> to add <code class="fragment">"@babel/preset-env"</code> or <span class="fragment"><code>"@babel/preset-react"</code>,</span>                    for example.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Babel 7 Plugins</h3>
                <p class="fragment">the <b><i>whys</i></b></p>
                <pre class="fragment"><code data-trim>
                    "@babel/plugin-proposal-class-properties": "^7.1.0",
                </code></pre>
                <p class="fragment">Transforms <b class="fragment">ES6 class syntax</b> into <span class="fragment"><b>ES5 constructor
            functions</b>.</span> But the <code class="fragment">class syntax feature</code> has not yet been <span class="fragment"><b><i>approved</i></b>,</span> so it is still called a <span class="fragment"><b><i>proposal</i></b>.</span> With
                    <span class="fragment"><b>Babel 7</b>,</span> we must add the equivalent
                    <b class="fragment">Babel
            plugin</b> for each <b class="fragment"><i>modern</i></b> <b class="fragment">JS feature</b> we want to implement in our applications. That's because there are no longer <b class="fragment">stage presets</b> in <span class="fragment"><b>Babel 7</b>.</span></p>
            </section>
            <section data-background="#ffc600">
                <h3>Babel 7 Plugins</h3>
                <p class="fragment">the <b><i>whys</i></b></p>
                <pre class="fragment"><code data-trim>
                    "@babel/plugin-proposal-export-namespace-from": "^7.0.0",
                </code></pre>
                <p class="fragment">
                    <b>ES6 modules</b> allow us to import something <b><i>from</i></b> something else:
                </p>
                <pre class="fragment"><code data-trim>
                    import * as name from "module-name";
                </code></pre>
            </section>
            <section data-background="#ffc600">
                <h3>Babel 7 Plugins</h3>
                <p class="fragment">the <b><i>whys</i></b></p>
                <pre class="fragment"><code data-trim>
                    "@babel/plugin-proposal-export-namespace-from"
                </code></pre>
                <p class="fragment">
                    However, there was <b class="fragment"><i>no</i></b> <span class="fragment"><b>corresponding export</b>!</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Babel 7 Plugins</h3>
                <p class="fragment">the <b><i>whys </i></b>contd</p>
                <pre class="fragment"><code data-trim>
                    "@babel/plugin-proposal-export-namespace-from"
                </code></pre>
                <p class="fragment">
                    <b>plugin proposal:</b> export namespace from
                </p>
                <pre class="fragment"><code data-trim>
                    export * as ns from "mod";
                </code></pre>
            </section>
            <section data-background="#ffc600">
                <h3>Babel 7 Plugins</h3>
                <p class="fragment">the <b><i>whys </i></b>contd</p>
                <pre class="fragment"><code data-trim>
                    "@babel/plugin-proposal-throw-expressions": "^7.0.0",
                </code></pre>
                <p class="fragment"><b>example:</b></p>
                <pre class="fragment"><code data-trim>
                    function test(param = throw new Error('required!')) {
                        const test = param === true || throw new Error('Falsey!');
                    }
                </code></pre>
            </section>
            <section data-background="#ffc600">
                <h3>Babel 7 Plugins</h3>
                <p class="fragment">the <b><i>whys </i></b>contd</p>
                <pre class="fragment"><code data-trim>
                    "@babel/plugin-syntax-dynamic-import": "^7.0.0",
                </code></pre>
                <p class="fragment">
                    <code class="fragment">import()</code> returns a <span class="fragment"><b><i>promise</i></b>,</span> so it can be used with
                    <span class="fragment"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function" target="_blank">async functions</a>.</span> However, doing this <b class="fragment"><i>requires</i></b> the
                    <code class="fragment">"@babel/plugin-syntax-dynamic-import"</code>
                    <b>plugin</b> in <span class="fragment"><b>Webpack</b>.</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Configuring Babel 7</h3>
                <p class="fragment"><b>config/webpack.base.config.js</b></p>
                <pre class="fragment"><code data-trim>
                rules: [{
                    test: /\.js$/,
                    exclude: /node_modules/,
                    use: {
                        loader: 'babel-loader'
                    }
                },
                </code></pre>
                <p class="fragment">Now <code class="fragment">.JS$ rules</code> looks like <b><i>this</i></b>. No more <span class="fragment"><b><i>presets</i></b>.</span> Only in <span class="fragment"><b>.babelrc</b>.</span> In addition, I changed the name of the <b class="fragment"><i>webpack config</i></b>                    file. I will talk about that later.</p>
            </section>
            <section data-background="#ffc600">
                <h3>JS$ test property</h3>
                <pre class="fragment "><code data-trim>
            	test: /\.js$/,
            	</code></pre>
                <p class="fragment">
                    The <span class="fragment"><code class="fragment">test</code></span> property tells webpack what kind of file to match to the
                    <span class="fragment"><code>babel-loader</code>.</span> The regex <span class="fragment "><code>/\.js$/</code></span> refers to any extension that matches
                    <span class="fragment"><code>.js</code></span> at the end of a filename.</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Exclude Property</h3>
                <pre class="fragment"><code data-trim>
                exclude: /node_modules/,
                </code></pre>
                <p class="fragment">
                    The <span class="fragment"><code>exclude</code></span> property means that whatever modules match the <span class="fragment "><code>/node_modules/</code></span> regex should be excluded from <span class="fragment "><code>bundle.js</code>.</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>JS$ use property</h3>
                <pre class="fragment"><code data-trim>
                use: {
                    loader: 'babel-loader',
                },
            	</code></pre>
                <p class="fragment">
                    Then it <code class="fragment">uses</code> that loader to transform those files before adding it to <span class="fragment"><code>bundle.js</code>.</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Babel 7 Packages</h3>
                <p class="fragment">the <b><i>whys</i></b></p>
                <pre class="fragment"><code data-trim>
                @babel/core
                </code></pre>
                <p class="fragment">This is the <b>Babel</b> core <span class="fragment"><b><i>compiler</i></b>.</span> It makes it possible to use <span class="fragment"><code>babel-loader</code>.</span> Most <b class="fragment">babel plugins/top level packages</b> have
                    a <b class="fragment"><i>peerDependency</i></b> on
                    <span class="fragment"><b>@babel/core</b>.</span> Previously it had been <span class="fragment"><b>babel-core</b>.</span> It is also needed for
                    <span class="fragment"><b>Jest</b>.</span> To learn more about
                    <a class="fragment" href="https://nodejs.org/en/blog/npm/peer-dependencies/">peerDependencies,</a> click <span class="fragment"><a href="https://nodejs.org/en/blog/npm/peer-dependencies/">here</a>.</span></p>
            </section>
            <section data-background="#ffc600">
                <h3>Babel 7 Packages</h3>
                <p class="fragment">the <b><i>whys</i></b></p>
                <pre class="fragment"><code data-trim>
                "babel-core": "^7.0.0-bridge.0"
                </code></pre>
                <p class="fragment">This package is needed for <b class="fragment">Jest</b> testing if <b class="fragment">Babel 7</b> is being used. This package is meant to <b class="fragment">ease</b> the <b class="fragment"><i>transition</i></b> libraries that use "babel-core"
                    as a
                    <b class="fragment"><i>peerDependency</i></b> for <span class="fragment"><b>Babel 6</b>.</span> To learn more, please visit the
                    <span class="fragment"><a href="https://github.com/babel/babel-bridge">babel-bridge repo
                        </a>.</span></p>
            </section>
            <section data-background="#ffc600">
                <h3>Babel 7 Packages</h3>
                <p class="fragment">the <b><i>whys</i></b></p>
                <pre class="fragment"><code data-trim>
                "@babel/polyfill": "^7.0.0"
                </code></pre>
                <p class="fragment"><b class="fragment">React 16+</b> depends on collection types <a class="fragment" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a> and
                    <span class="fragment"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set">Set</a>.</span>
                    <a href="https://babeljs.io/docs/en/babel-polyfill/">@babel/polyfill</a>
                    <b class="fragment"><i>emulates</i></b> a <b><i>full</i></b> <b class="fragment">ES2015+ environment</b> and is for <span class="fragment"><b>applications</b>.</span> You can use <b class="fragment">built-ins</b> like <b class="fragment">Promise</b>                    or <span class="fragment"><b>WeakMap</b>,</span> static methods like
                    <b class="fragment">Array.from</b> or <span class="fragment"><b>Object.assign</b>,</span> instance methods like <span class="fragment"><b>Array.prototype.includes</b>,</span> and <span class="fragment"><b >generator functions</b> provided
                    you use the
                    <b class="fragment">regenerator plugin</b>.</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Babel 7 Packages</h3>
                <p class="fragment">the <b><i>whys</i></b></p>
                <pre class="fragment"><code data-trim>
                "@babel/register": "^7.0.0",
                </code></pre>
                <p class="fragment">Allows you to use the <b class="fragment">require module</b> in your applications.</p>
            </section>
            <section data-background="#ffc600">
                <h3>Configuring ESLint</h3>
                <p class="fragment"><b>package.json</b></p>
                <pre class="fragment"><code data-trim>
                "babel-eslint": "^10.0.1",
                "eslint": "^5.9.0",
                "eslint-loader": "^2.1.1",
                "eslint-plugin-import": "^2.14.0",
                "eslint-plugin-react": "^7.11.1",
                </code></pre>
            </section>
            <section data-background="#ffc600">
                <h3>Configuring ESLint</h3>
                <p class="fragment"><b>.eslintrc.json</b></p>
                <pre class="fragment"><code data-trim>
                {
                    "parser": "babel-eslint",
                    "env": {
                        "browser": true,
                        "commonjs": true,
                        "es6": true,
                        "node": true,
                        "jest": true
                    },
                    "extends": ["eslint:recommended", "plugin:react/recommended", "plugin:import/recommended"],
                    "settings": {
                        "react": {
                            "pragma": "React",
                            "version": "16.6.3"
                        }
                    },
                    "parserOptions": {
                        "ecmaFeatures": {
                            "jsx": true
                        },
                        "ecmaVersion": 2018,
                        "sourceType": "module"
                    },
                    "plugins": [
                        "import",
                        "react"
                    ],
                    "rules": {
                        "no-unused-vars": 0,
                        "no-console": 0,
                        "max-len": [1, 120, 2, {
                            "ignoreComments": true
                        }],
                        "prop-types": [0],
                        "indent": [
                            0
                        ],
                        "linebreak-style": [
                            "error",
                            "unix"
                        ],
                        "quotes": [
                            0
                        ],
                        "semi": [
                            0
                        ]
                    }
                }
                </code></pre>
            </section>
            <section data-background="#ffc600">
                <h3>Configuring ESLint</h3>
                <p class="fragment"><b>config/webpack.base.config.js</b></p>
                <pre class="fragment"><code data-trim>
                {
                    test: /\.js$/,
                    exclude: /node_modules/,
                    loaders: [
                        'babel-loader',
                        'eslint-loader'
                    ]
                },
                </code></pre>
                <p class="fragment">For my complete write up on <b>configuring ESLint with React</b>, please visit
                    <a href="The Importance Of ESlint (And React)">The
                        Importance Of ESlint (And React)
                    </a>. To view the complete <b>webpack.base.config.js</b> file, click
                    <a href="https://github.com/interglobalmedia/speech-to-text-app/blob/master/config/webpack.base.config.js">
                        here
                    </a>.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Configuring Webpack</h3>
                <p class="fragment"><b>much changed</b></p>
            </section>
            <section data-background="#ffc600">
                <h3>Configuring Webpack</h3>
                <p class="fragment">
                    I still have <b><i>two</i></b> webpack <b>config</b> files, but now they reside in a <b>config</b> <b><i>folder</i></b> and are also named differently.
                </p>
                <p class="fragment">
                    One file is called <code class="fragment">webpack.base.config.js</code> and is for webpack <b>configs</b> related to the <b><i>development</i></b> environment, some of which also are related to <b><i>production</i></b>. The other is
                    <code class="fragment">webpack.prod.config.js</code> and is for webpack <b>configs</b> related <b><i>only</i></b> to the <b><i>production</i></b> environment.
                </p>
            </section>
            <section data-background="#ffc600" data-background-image="images/dog-cloning.jpg" data-background-size="cover" data-background-position="center" data-background-repeat="no-repeat">
                <h3>Configuring Webpack</h3>
                <p class="fragment"><b>why the new configs</b></p>
                <p class="fragment" style="background: rgba(250, 235, 215, 0.7)">Setting up <b>Webpack</b> with these two <b><i>new configs</i></b> means <b><i>drier</i></b> code. No <b><i>duplications</i></b> as before. Click <a href="https://github.com/interglobalmedia/portfolio">here</a> to visit a <b>repo</b> containing
                    my <b><i>previous</i></b> <b>workflow</b>.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Configuring Webpack</h3>
                <p><b>what requires/variables have NOT changed (base config)</b></p>
                <pre class="fragment"><code data-trim>
                const path = require('path');
                const webpack = require('webpack');
                </code></pre>
                <p class="fragment">As you can see, not much!</p>
            </section>
            <section data-background="#ffc600">
                <h3>Configuring Webpack</h3>
                <p class="fragment"><b>what requires/variables have changed (base config)</b></p>
                <pre class="fragment"><code data-trim>
                const CopyWebpackPlugin = require('copy-webpack-plugin');
                const merge = require('webpack-merge');
                const MiniCssExtractPlugin = require('mini-css-extract-plugin');
                const HtmlWebpackPlugin = require('html-webpack-plugin');
                const CleanWebpackPlugin = require('clean-webpack-plugin');
                const WorkboxPlugin = require('workbox-webpack-plugin');
                </code></pre>
            </section>
            <section data-background="#ffc600">
                <h3>Configuring Webpack</h3>
                <p class="fragment"><b>how module.exports has changed (base config)</b></p>
                <pre class="fragment"><code data-trim>
                module.exports = env => {

                    const {PLATFORM, VERSION} = env;

                        return merge([
                            {
                                entry: {
                                    main: './src/index.js'
                                },
                                output: {
                                    filename: PLATFORM === 'production' ? 'scripts/[name].[contenthash].chunk.js' : 'scripts/[name].chunk.js',
                                    chunkFilename: PLATFORM === 'production' ? 'scripts/[name].[contenthash].chunk.js' : 'scripts/[name].chunk.js',
                                    path: path.resolve(__dirname, '../dist')
                                },
                                optimization: {
                                    splitChunks: {
                                        chunks: 'all'
                                    }
                                },
                                module: {
                                    rules: [{
                                        test: /\.js$/,
                                        exclude: /node_modules/,
                                        use: {
                                            loader: 'babel-loader'
                                        }
                                    },
                                    {
                                        test: /\.js$/,
                                        exclude: /node_modules/,
                                        loaders: [
                                            'babel-loader',
                                            'eslint-loader'
                                        ]
                                    },
                                    {
                                        test: /\.(scss|sass|css)$/,
                                        exclude: /node_modules/,
                                        loaders: [
                                            PLATFORM === 'production' ? MiniCssExtractPlugin.loader : 'style-loader',
                                            {
                                                loader: 'css-loader',
                                                options: {
                                                    modules: true,
                                                    sourceMap: true,
                                                    importLoaders: 1,
                                                    localIdentName: '[local]___[hash:base64:5]'
                                                },
                                            },
                                            'postcss-loader',
                                            'sass-loader'
                                        ]
                                    },
                                    {
                                        test: /\.(jpg|png|gif|svg|pdf|ico)$/,
                                            use: [{
                                                loader: 'file-loader',
                                                options: {
                                                    name: '[path][name].[hash:8].[ext]'
                                                },
                                            }],
                                    },
                                ]
                            },
                            plugins: [
                                new CleanWebpackPlugin(['dist']),
                                new HtmlWebpackPlugin({
                                    template: 'src/index.html',
                                    favicon: 'src/favicon.ico',
                                    styles: 'src/styles.css',
                                    inject: true
                                }),
                                new MiniCssExtractPlugin({
                                    filename: PLATFORM === 'production' ? 'styles/[name].[hash].css' : '[name].css',
                                }),
                                new CopyWebpackPlugin([{
                                    from: 'src/static'
                                }]),
                                new WorkboxPlugin.GenerateSW({
                                    swDest: 'sw.js'
                                }),
                                new webpack.DefinePlugin({
                                    'process.env.VERSION': JSON.stringify(env.VERSION),
                                    'process.env.PLATFORM': JSON.stringify(env.PLATFORM)
                                })
                            ],
                        },
                    ])
                }
                </code></pre>
            </section>
            <section data-background="#ffc600">
                <h3>Configuring Webpack</h3>
                <p class="fragment"><b>config/webpack.base.config.js</b></p>
                <pre class="fragment"><code data-trim>
                const path = require('path');
                const webpack = require('webpack');
                const CopyWebpackPlugin = require('copy-webpack-plugin');
                const merge = require('webpack-merge');
                const MiniCssExtractPlugin = require('mini-css-extract-plugin');
                const HtmlWebpackPlugin = require('html-webpack-plugin');
                const CleanWebpackPlugin = require('clean-webpack-plugin');
                const WorkboxPlugin = require('workbox-webpack-plugin');

                module.exports = env => {

                    const {PLATFORM, VERSION} = env;

                        return merge([
                            {
                                entry: {
                                    main: './src/index.js'
                                },
                                output: {
                                    filename: PLATFORM === 'production' ? 'scripts/[name].[contenthash].chunk.js' : 'scripts/[name].chunk.js',
                                    chunkFilename: PLATFORM === 'production' ? 'scripts/[name].[contenthash].chunk.js' : 'scripts/[name].chunk.js',
                                    path: path.resolve(__dirname, '../dist')
                                },
                                optimization: {
                                    splitChunks: {
                                        chunks: 'all'
                                    }
                                },
                                module: {
                                    rules: [{
                                            test: /\.js$/,
                                            exclude: /node_modules/,
                                            use: {
                                                loader: 'babel-loader'
                                            }
                                        },
                                        {
                                            test: /\.js$/,
                                            exclude: /node_modules/,
                                            loaders: [
                                                'babel-loader',
                                                'eslint-loader'
                                            ]
                                        },
                                        {
                                            test: /\.(scss|sass|css)$/,
                                            exclude: /node_modules/,
                                            loaders: [
                                                PLATFORM === 'production' ? MiniCssExtractPlugin.loader : 'style-loader',
                                                {
                                                    loader: 'css-loader',
                                                    options: {
                                                        modules: true,
                                                        sourceMap: true,
                                                        importLoaders: 1,
                                                        localIdentName: '[local]___[hash:base64:5]'
                                                    },
                                                },
                                                'postcss-loader',
                                                'sass-loader'
                                            ]
                                        },
                                        {
                                            test: /\.(jpg|png|gif|svg|pdf|ico)$/,
                                                use: [{
                                                    loader: 'file-loader',
                                                    options: {
                                                        name: '[path][name].[hash:8].[ext]'
                                                    },
                                                }],
                                        },
                                    ]
                                },
                                plugins: [
                                    new CleanWebpackPlugin(['dist']),
                                    new HtmlWebpackPlugin({
                                        template: 'src/index.html',
                                        favicon: 'src/favicon.ico',
                                        styles: 'src/styles.css',
                                        inject: true
                                    }),
                                    new MiniCssExtractPlugin({
                                        filename: PLATFORM === 'production' ? 'styles/[name].[hash].css' : '[name].css',
                                    }),
                                    new CopyWebpackPlugin([{
                                        from: 'src/static'
                                    }]),
                                    new WorkboxPlugin.GenerateSW({
                                        swDest: 'sw.js'
                                    }),
                                    new webpack.DefinePlugin({
                                        'process.env.VERSION': JSON.stringify(env.VERSION),
                                        'process.env.PLATFORM': JSON.stringify(env.PLATFORM)
                                    })
                                ],
                            },
                        ])
                }
                </code></pre>
            </section>
            <section data-background="#ffc600">
                <h3>Dependency Graph</h3>
                <p class="fragment">
                    When <b><i>webpack</i></b> processes your app, it <b class="fragment"><i>recursively</i></b> <b class="fragment">builds</b> a <span class="fragment"><code>dependency
                graph</code></span> that <b class="fragment"><i>includes</i></b> every <b class="fragment">module</b> that your app <span class="fragment"><b><i>needs</i></b>,</span> and then <b class="fragment"><i>packages</i></b> all of those <b class="fragment">modules</b>                    into a small number of
                    <b class="fragment"><i>bundles</i></b> to be <b class="fragment">loaded</b> by the
                    <span class="fragment"><b>browser</b>.</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>webpack basics</h3>
                <p class="fragment">
                    To get started, you only need to understand 4 basic concepts:
                </p>
                <ul>
                    <li class="fragment">
                        Entry
                    </li>
                    <li class="fragment">
                        Output
                    </li>
                    <li class="fragment">
                        Loaders
                    </li>
                    <li class="fragment">
                        Plugins
                    </li>
                </ul>
            </section>
            <section data-background="#ffc600">
                <h3>entry</h3>
                <pre class="fragment"><code data-trim>
                module.exports = {
                    entry: {
                        main: './src/index.js'
                    },
                }
                </code></pre>
                <p class="fragment">
                    The starting point of <b><i>webpack</i></b>'s <b class="fragment">dependency graph</b> is called the <span class="fragment"><code>entry
                    point</code>.</span> The <b class="fragment">entry point</b> tells <b><i>webpack</i></b> where to start its <span class="fragment"><code>bundling
                    process</code>,</span> and then follows the graph of dependencies to know what to bundle.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>entry</h3>
                <pre class="fragment"><code data-trim>
                module.exports = {
                    entry: {
                        main: './src/index.js'
                    },
                }
                </code></pre>
                <p class="fragment">
                    The <b class="fragment">entry point</b> <b class="fragment"><i>did</i></b> change since the previous workflow, <b><i>and</i></b> <span class="fragment"><code>module.exports</code>,</span> and what now comes <b class="fragment"><i>before</i></b>                    <b class="fragment">entry</b> did as well.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Configuring Webpack</h3>
                <p class="fragment">module.exports changed</p>
                <pre class="fragment"><code data-trim>
                module.exports = env => { 
                    const {PLATFORM, VERSION} = env;
                };
                </code></pre>
                <p class="fragment">
                    The <b class="fragment">env</b> variable is passed to <code class="fragment">module.exports</code> so that I can make those <b class="fragment">webpack configurations</b> which are <b class="fragment"><i>required</i></b> both in
                    <b class="fragment">development</b> and <span class="fragment"><b>production</b>.</span>
                    <code class="fragment">PLATFORM</code> refers to <b class="frgment">dev</b> or <b class="fragment">prod</b> <span class="fragment"><b><i>envs</i></b>,</span> and <code class="fragment">VERSION</code> refers to <span class="fragment"><b>staging</b>                    (stag).</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>entry changed</h3>
                <pre class="fragment"><code data-trim>
                entry: {
                    main: './src/index.js'
                },
                </code></pre>
                <p class="fragment">I no longer include a <span class="fragment"><b>VENDOR_LIBS</b> (vendor)</span> <span class="fragment"><b>entry</b>.</span> That means I no longer <b class="fragment"><i>define</i></b> a <b class="fragment">VENDOR_LIBS</b> <b class="fragment"><i>variable</i></b>                    containing the <b class="fragment">third party dependencies</b> I use in my application. This has to do with the <b class="fragment"><i>new</i></b> way of <code class="fragment">bundle splitting</code> in <b>webpack 4</b> using the
                    <code class="fragment">SplitChunksPlugin</code> instead of <span class="fragment"><code>CommonsChunkPlugin</code>.</span></p>
            </section>
            <section data-background="#ffc600">
                <h3>webpack-merge</h3>
                <p class="fragment"><b class="fragment">webpack-merge</b> is what makes it possible to <b class="fragment"><i>merge</i></b> my two <b class="fragment">configs</b> together into <span class="fragment"><b>one</b>,</span> thereby resulting in much <b class="fragment"><i>drier</i></b>                    code as well.</p>
            </section>
            <section data-background="#ffc600">
                <h3>main</h3>
                <pre class="fragment"><code data-trim>
                module.exports = env => {

                    const {PLATFORM, VERSION} = env;

                        return merge([
                            {
                                entry: {
                                    main: './src/index.js'
                            },
                        ])
                }
                </code></pre>
                <p class="fragment">
                    The <b class="fragment">value</b> of the <b class="fragment">main</b> property indicates to
                    <b class="fragment"><i>webpack</i></b> what <b class="fragment">code</b> needs to be <span class="fragment"><b>bundled</b>.</span> Previously I called it <span class="fragment"><b>bundle</b>,</span> but now for consistency and readability
                    sake, I changed it to <span class="fragment"><b>main</b>.</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>main index.js</h3>
                <pre class="fragment"><code data-trim>
                import React from 'react';
                import ReactDOM from 'react-dom';
                import 'core-js/es6/map';
                import 'core-js/es6/set';
                import App from './App';
                import './styles.scss';
                import './favicon.ico';
				</code></pre>
                <p class="fragment">
                    The <b class="fragment">files</b> which need to be <b class="fragment">included</b> in the <b class="fragment">bundled</b> file in <b class="fragment">output</b> have all been <b class="fragment">imported</b> into the
                    <b class="fragment"><i>main</i></b>
                    <span class="fragment">
                        <a href="https://github.com/interglobalmedia/react-timeline-app/blob/master/src/index.js" target="_blank">
                            <code>index.js</code>
                        </a>
                    </span> file.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>core.js in index.js</h3>
                <p class="fragment"><b>the</b> <b><i>why</i></b></p>
                <pre class="fragment"><code data-trim>
                import 'core-js/es6/map';
                import 'core-js/es6/set';
                </code></pre>
                <p class="fragment">
                    A <b class="fragment"><i>polyfilled</i></b> environment for <b class="fragment">React 16</b> using <b class="fragment">core-js</b> to <b class="fragment"><i>support</i></b> <span class="fragment"><b>older browsers</b>.</span> Visit
                    the
                    <a href="https://reactjs.org/docs/javascript-environment-requirements.html">React
                    documentation
                    </a> to learn more.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>ReactDOM.render()</h3>
                <p class="fragment">
                    And the <b clas="fragment"><i>main</i></b> <span class="fragment"><a href="https://github.com/interglobalmedia/react-timeline-app/blob/master/src/index.js" target="_blank"><code>App Component</code></a></span> that holds everything
                    else related to the app is rendered there as well.
                </p>
            </section>
            <section data-background="#ffc600" data-background-image="images/code-splitting.jpg" data-background-size="cover" data-background-position="center" data-background-repeat="no-repeat">
                <h3>Code/Bundle Splitting</h3>
                <p class="fragment" style="background: rgba(250, 235, 215, 0.6)">
                    is important for <span class="fragment"><code>browser caching</code>.</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Browser Caching</h3>
                <p class="fragment">
                    is <b class="fragment"><i>great</i></b> because it <b class="fragment"><i>allows</i></b> <b class="fragment">sites</b> to <b class="fragment"><i>load faster</i></b> once the <b class="fragment">client</b> has <b class="fragment"><i>grabbed</i></b>                    the <b class="fragment">necessary</b> <b class="fragment"><i>files</i></b> and <b class="fragment"><i>assets</i></b> from the server the
                    <b class="fragment">first time</b> a user <b class="fragment">visits</b> the <span class="fragment"><b>page</b>.</span>
                </p>
            </section>
            <section data-background="#ffc600" data-background-image="images/browser-caching.jpg" data-background-size="100%" data-background-position="center" data-background-repeat="no-repeat" style="background: rgba(170, 170, 170, 0.6)">
                <h3>Clearing The Cache</h3>
            </section>
            <section data-background="#ffc600" data-background-image="images/buried-in-tag-manager-tags.jpg" data-background-size="cover" data-background-position="center" data-background-repeat="no-repeat">
                <h3>Caching Headaches</h3>
                <p class="fragment" style="background: rgba(250, 235, 215, 0.7)">
                    However, it can cause big headaches when new code has been added to files. If the name of a file remains the same when new code has been added to it, the browser thinks that nothing has changed. To the browser, same name means same content.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Output</h3>
                <pre class="fragment"><code data-trim>
                output: {
                    filename: PLATFORM === 'production' ? 'scripts/[name].[contenthash].chunk.js' : 'scripts/[name].chunk.js',
                    chunkFilename: PLATFORM === 'production' ? 'scripts/[name].[contenthash].chunk.js' : 'scripts/[name].chunk.js',
                    path: path.resolve(__dirname, '../dist')
                },
                </code></pre>
                <p class="fragment">
                    Once you've <b class="fragment"><i>bundled</i></b> all your <b class="fragment">assets</b> together, you need to tell <b class="fragment"><i>webpack</i></b> <span class="fragment"><b><i>where</i></b></span> to <b class="fragment">bundle</b>                    your app. The <span class="fragment"><code>output object</code></span> tells <b class="fragment"><i>webpack</i></b> what to do with <b class="fragment">bundled</b> code. But this <code class="fragment">output object</code> <b class="fragment"><i>differs greatly</i></b>                    from the <b>first edition</b> of this
                    <span class="fragment"><b>workflow</b>.</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>filename</h3>
                <pre class="fragment"><code data-trim>
                output: {
                    filename: PLATFORM === 'production' ? 'scripts/[name].[contenthash].chunk.js' : 'scripts/[name].chunk.js',
                    chunkFilename: PLATFORM === 'production' ? 'scripts/[name].[contenthash].chunk.js' : 'scripts/[name].chunk.js',
                    path: path.resolve(__dirname, '../dist')
                },
                </code></pre>
                <p class="fragment">
                    The value of the first property, <span class="fragment"><code>filename</code>,</span> refers to the <b class="fragment">name(s)</b> of output <span class="fragment"><b>bundle(s)</b>.</span> Note the <b>ternary operator</b>.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>filename</h3>
                <pre class="fragment"><code data-trim>
                output: {
                    filename: PLATFORM === 'production' ? 'scripts/[name].[contenthash].chunk.js' : 'scripts/[name].chunk.js',
                    chunkFilename: PLATFORM === 'production' ? 'scripts/[name].[contenthash].chunk.js' : 'scripts/[name].chunk.js',
                    path: path.resolve(__dirname, '../dist')
                },
                </code></pre>
                <p class="fragment">
                    Previously, when I used the <code class="fragment">CommonsChunkPlugin</code> and not the <span class="fragment"><code>SplitChunksPlugin</code>,</span> the <b class="fragment">name</b> of the <b class="fragment">hash</b> I used was
                    <span class="fragment"><code>[chunkhash:8]</code>.</span> Now that we all are using the
                    <code class="fragment">SplitChunksPlugin</code> with <span class="fragment"><b>webpack</b>,</span> some of us use
                    <span class="fragment"><code>[contenthash]</code>.</span> For more about <code class="fragment">[contenthash]</code> and <span class="fragment"><b>webpack 4</b>,</span> click <span class="fragment"><a href="https://github.com/webpack/webpack/issues/7179">here</a>.</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>chunkFilename</h3>
                <pre class="fragment"><code data-trim>
                output: {
                    filename: PLATFORM === 'production' ? 'scripts/[name].[contenthash].chunk.js' : 'scripts/[name].chunk.js',
                    chunkFilename: PLATFORM === 'production' ? 'scripts/[name].[contenthash].chunk.js' : 'scripts/[name].chunk.js',
                    path: path.resolve(__dirname, '../dist')
                },
                </code></pre>
                <p class="fragment"><code class="fragment">chunkFilename</code> determines the name of <b class="fragment">non-entry</b> chunk files. In <b class="fragment"><i>my</i></b> <span class="fragment"><b>configuration</b>,</span> that means <b class="fragment"><i>either</i></b>                    <b class="fragment">vendor chunks</b> or (at least with this particular workflow)
                    <span class="fragment"><b>dynamic imports</b>.</span> Again, note the <span class="fragment"><b>ternary operator</b>.</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>path</h3>
                <pre class="fragment"><code data-trim>
                const path = require('path');
                output: {
                    filename: PLATFORM === 'production' ? 'scripts/[name].[contenthash].chunk.js' : 'scripts/[name].chunk.js',
                    chunkFilename: PLATFORM === 'production' ? 'scripts/[name].[contenthash].chunk.js' : 'scripts/[name].chunk.js',
                    path: path.resolve(__dirname, '../dist')
                },
                </code></pre>
                <p class="fragment">
                    The <b class="fragment"><i>value</i></b> of the third <span class="fragment"><b>property</b>,</span> <span class="fragment"><code>path</code>,</span> is the <b class="fragment">absolute path</b> to the <span class="fragment"><b>dist folder</b>,</span>                    where the <b class="fragment">bundled assets</b> end up. It has to be <b class="fragment"><i>required</i></b> in your
                    <span class="fragment"><code>webpack config</code></span> in order for you to able to use it.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>path</h3>
                <pre class="fragment"><code data-trim>
                const path = require('path');
                output: {
                    filename: PLATFORM === 'production' ? 'scripts/[name].[contenthash].chunk.js' : 'scripts/[name].chunk.js',
                    chunkFilename: PLATFORM === 'production' ? 'scripts/[name].[contenthash].chunk.js' : 'scripts/[name].chunk.js',
                    path: path.resolve(__dirname, '../dist')
                },
            	</code></pre>
                <p class="fragment">
                    <b class="fragment">path.resolve()</b> resolves a <b class="fragment"><i>sequence</i></b> of <b class="fragment">paths</b> or <b class="fragment">path segments</b> into an <span class="fragment"><b>absolute path</b>.</span> As mentioned
                    earlier, for the <span class="fragment"><b>output path</b>,</span>
                    <b>webpack</b> needs to know exactly where you want your <b class="fragment"><i>bundles</i></b> and <b class="fragment"><i>output files</i></b> to be emitted.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>[name]</h3>
                <pre class="fragment"><code data-trim>
                output: {
                    filename: PLATFORM === 'production' ? 'scripts/[name].[contenthash].chunk.js' : 'scripts/[name].chunk.js',
                    chunkFilename: PLATFORM === 'production' ? 'scripts/[name].[contenthash].chunk.js' : 'scripts/[name].chunk.js',
                    path: path.resolve(__dirname, '../dist')
                },
                </code></pre>
                <p class="fragment">
                    I use the <b class="fragment">[name]</b> property because of my <span class="fragment"><code class="fragment">bundle splitting</code></span> resulting from <span class="fragment"><b><i>naming</i></b></span> different types of
                    <span class="fragment"><b>chunks</b>.</span> Previously the reasoning was because of <code class="fragment">> 1</code> <span class="fragment"><b>entry point</b>,</span> but now it's because of <code class="fragment">> 1</code> type
                    of <span class="fragment"><b>chunk</b>.</span> As you saw, they do <b class="fragment"><i>not</i></b> reside in the <span class="fragment"><b>entry point</b>!</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Bundle Splitting vs Code Splitting</h3>
                <p class="fragment">With <b><i>webpack 4</i></b>, it has become clear to me that <b>bundle splitting</b> and <b>code splitting</b> are NOT <b><i>interchangeable</i></b>, as I previously thought. That's because of my introduction to <b>dynamic imports</b>,
                    which IS <b>code splitting</b>, as opposed to <b><i>multiple entry points</i></b>, which is <b>bundle splitting</b>.</p>
            </section>
            <section data-background="#ffc600">
                <h3>Bundle Splitting vs Code Splitting</h3>
                <p class="fragment">
                    I will be updating the <b class="fragment">terminology</b> in the <b class="fragment">first edition</b> of this <span class="fragment"><b><i>workflow</i></b>.</span> I came across a fantastic article on medium that gets into the
                    <b class="fragment"><i>difference</i></b> between the two, and helped me tremendously in <b class="fragment">optimizing</b> my <b class="fragment">vendor</b> <span class="fragment"><b>bundle(s)</b>:</span>
                    <span class="fragment"><a href="https://hackernoon.com/the-100-correct-way-to-split-your-chunks-with-webpack-f8a9df5b7758">The
                    100% correct way to split your chunks with Webpack</a>, <i class="fragment">by David Gilbertson</i>.</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>[name]</h3>
                <pre class="fragment"><code data-trim>
                output: {
                    filename: PLATFORM === 'production' ? 'scripts/[name].[contenthash].chunk.js' : 'scripts/[name].chunk.js',
                    chunkFilename: PLATFORM === 'production' ? 'scripts/[name].[contenthash].chunk.js' : 'scripts/[name].chunk.js',
                    path: path.resolve(__dirname, '../dist')
                },
                </code></pre>
                <p class="fragment">
                    <b class="fragment">[name]</b> takes into consideration that there can be more than one type of <b class="fragment">main bundle</b> file, and they may have <b class="fragment"><i>different</i></b> <span class="fragment"><b>names</b>.</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>[contenthash]</h3>
                <pre class="fragment"><code data-trim>
                output: {
                    filename: PLATFORM === 'production' ? 'scripts/[name].[contenthash].chunk.js' : 'scripts/[name].chunk.js',
                    chunkFilename: PLATFORM === 'production' ? 'scripts/[name].[contenthash].chunk.js' : 'scripts/[name].chunk.js',
                    path: path.resolve(__dirname, '../dist')
                },
                </code></pre>
                <p class="fragment">A simple way to make sure the <b class="fragment">browser</b> picks up <b class="fragment"><i>changed</i></b> files is by <b class="fragment"><i>using</i></b> <code class="fragment">output.filename</code> <span class="fragment"><b>substitutions</b>.</span>                    The <b class="fragment">[hash]</b> (or previously for me [chunkhash]) can be used to include a <b class="fragment"><i>build-specific</i></b> <b class="fragment">hash</b> in the <span class="fragment"><b>filename</b>.</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>[contenthash]</h3>
                <pre class="fragment"><code data-trim>
                output: {
                    filename: PLATFORM === 'production' ? 'scripts/[name].[contenthash].chunk.js' : 'scripts/[name].chunk.js',
                    chunkFilename: PLATFORM === 'production' ? 'scripts/[name].[contenthash].chunk.js' : 'scripts/[name].chunk.js',
                    path: path.resolve(__dirname, '../dist')
                },
                </code></pre>
                <p class="fragment">
                    It's even better to use the
                    <code class="fragment">[contenthash]</code> <b class="fragment">substitution</b>, which is the hash of the <b class="fragment"><i>content</i></b> of a file, <b class="fragment"><i>different</i></b> for each type of <b class="fragment">asset</b>.
                </p>
            </section>
            <section data-background="#ffc600">
                <p>Michael Ciniawsky, a webpack core contributor, put it well in <a href="https://github.com/webpack/webpack/issues/7179">webpack
        issue #7179</a>:
                    <blockquote class="fragment">
                        [chunkhash] isn't very 'stable' as it can change when e.g a module of a chunk is moved for some reason ... For predictable long term (browser) caching the contents of the asset are the only reliable hashing source since browsers cache files based on Map
                        { url => content } relations without any knowledge of webpack chunks or the like...
                    </blockquote>
                </p>
            </section>
            <section data-background="#ffc600">
                <p>And for
                    <a href="https://github.com/webpack/webpack/issues/7179 ">Code Splitting (Async Chunks)</a>:</p>
                <p class="fragment">
                    Also don't forget to set the <b class="fragment">chunkFilename</b> for Code Splitting (Async Chunks):
                </p>
                <pre class="fragment"><code data-trim>
                const output = {
                    filename: dev || ci ? '[name].bundle.js' : '[name].[contenthash].bundle.js',
                    chunkFilename: dev || ci ? '[name].chunk.js' : '[name].[contenthash].chunk.js'
                }
                </code></pre>
            </section>
            <section data-background="#ffc600 ">
                <h3>
                    < /> === 3</h3>
                <p class="fragment ">
                    There are <span class="fragment "><b>3</b></span> main types of <span class="fragment "><b>code</b></span> in a typical app or site built with <b><i>webpack</i></b>:
                </p>
                <ul>
                    <li class="fragment ">The source code you have written</li>
                    <li class="fragment ">Third party, vendor code your source is dependent on</li>
                    <li class="fragment ">Webpack runtime and manifest that conducts the interaction of all modules</li>
                </ul>
            </section>
            <section data-background="#ffc600" data-background-image="images/montre.gif" data-background-size="40% " data-background-position="center " data-background-repeat="no-repeat ">
                <h3>Runtime</h3>
                <p class="fragment " style="background: rgba(250, 235, 215, 0.7)">
                    The <span class="fragment "><b><i>runtime</i></b>,</span> along with the <span class="fragment "><b><i>manifest data</i></b>,</span> is basically all the code <span class="fragment "><b><i>webpack</i></b></span> needs to connect your
                    modularized app while it's <span class="fragment "><b><i>running</i></b></span> in the browser.
                </p>
            </section>
            <section data-background="#ffc600" data-background-image="images/manifesting.jpg " data-background-size="cover " data-background-position="center" data-background-repeat="no-repeat ">
                <h3>Manifest</h3>
                <p class="fragment " style="background: rgba(250, 235, 215, 0.7)">
                    <span class="fragment "><code>manifest</code></span> refers to the collection of module related data <span class="fragment"><code>runtime</code></span> uses to resolve and load modules after they have been bundled and shipped to the
                    browser.
                </p>
            </section>
            <section data-background="#ffc600" data-background-image="images/tiempo1.jpg" data-background-size="100%" data-background-position="center" data-background-repeat="no-repeat">
                <h3>Runtime/Manifest</h3>
                <p class="fragment" style="background: rgba(250, 235, 215, 0.7)">Both will be discussed in detail when we get to <a>webpack.prod.config.js</a>.</p>
            </section>
            <section data-background="#ffc600" data-background-image="images/side-effects.jpg" data-background-size="100%" data-background-position="center" data-background-repeat="no-repeat">
                <h3>Side Effects</h3>
                <p class="fragment" style="background: rgba(250, 235, 215, 0.7)">
                    So why mention all of this? Because <span class="fragment "><code>runtime</code></span> and <span class="fragment "><code>manifest</code></span> affect <span class="fragment "><code>browser caching</code>.</span>
                </p>
            </section>
            <section data-background="#ffc600" data-background-image="images/thunderstorm-montana-1900-1.jpg" data-background-size="cover" data-background-position="center " data-background-repeat="no-repeat ">
                <h3>[chunkhash]</h3>
                <p class="fragment" style="background: rgba(250, 235, 215, 0.5)">
                    Previously when using <span class="fragment"><code>[chunkhash]</code>,</span> certain hashes change even when their content did not. This was caused by the <span class="fragment "><code>injection</code></span> of <span class="fragment
                    "><code>runtime</code></span> and <span class="fragment"><code>manifest</code>,</span> which changed every build.
                </p>
            </section>
            <section data-background="#ffc600 ">
                <h3>CommonsChunkPlugin</h3>
                <p class="fragment"><span class="fragment"><b><i>Originally</i></b>,</span> <b class="fragment">chunks</b> (and <b class="fragment">modules</b> <b class="fragment"><i>imported</i></b> inside them) were connected by a parent-child relationship in the internal
                    webpack graph. The <span class="fragment "><b><i>CommonsChunkPlugin</i></b></span> was <b class="fragment"><i>used</i></b> to <b><i>avoid</i></b> <b class="fragment">duplicated dependencies</b> across them, but further optimizations
                    were not possible. Since <span class="fragment"><b><i>webpack v4</i></b>,</span> the <b class="fragment "><i>CommonsChunkPlugin</i></b> was removed in favor of
                    <span class="fragment "><b>optimization.splitChunks</b>.</span>
                </p>
            </section>
            <section data-background="#ffc600" data-background-image="images/chunk-splitting.jpg" data-background-size="100%" data-background-position="center" data-background-repeat="no-repeat">
                <h3>SplitChunksPlugin</h3>
                <p class="fragment" style="background: rgba(250, 235, 215, 0.7)">
                    We can use the <b class="fragment"><i>webpack</i></b> <span class="fragment"><code>SplitChunksPlugin</code></span> to <span class="fragment"><code>split</code></span> <b class="fragment"><i>(vendor) dependencies</i></b> into
                    <span class="fragment"><b>chunks</b>.</span>
                </p>
            </section>
            <section data-background="#ffc600 ">
                <h3>SplitChunksPlugin</h3>
                <p class="fragment ">Out of the box, <code class="fragment">SplitChunksPlugin</code> should work well for most users.</p>
            </section>
            <section data-background="#ffc600">
                <h3>SplitChunksPlugin</h3>
                <p class="fragment ">
                    By default it only affects <span class="fragment"><b>on-demand chunks</b>,</span> because changing <b class="fragment ">initial chunks</b> would affect the <b class="fragment ">script tags</b> the html file should include to run the
                    project.
                </p>
            </section>
            <section data-background="#ffc600" data-background-image="images/chunked-chocolate.jpg" data-background-size="100%" data-background-position="center" data-background-repeat="no-repeat">
                <h3>SplitChunksPlugin</h3>
                <p class="fragment" style="background: rgba(250, 235, 215, 0.7)">
                    <b class="fragment">webpack</b> will <b class="fragment"><i>automatically</i></b> <b class="fragment">split chunks</b> based on the following <span class="fragment"><b>conditions</b>:</span>
                </p>
            </section>
            <section data-background="#ffc600 ">
                <h3>Conditions</h3>
                <ul>
                    <li class="fragment ">
                        When a new chunk can be shared OR modules are from the <code>node_modules</code> folder.
                    </li>
                    <li class="fragment ">
                        When a new chunk is bigger than 30kb (before min+gz)
                    </li>
                    <li class="fragment ">
                        The maximum number of parallel requests when loading chunks on demand would be lower or equal to 5.
                    </li>
                    <li class="fragment ">
                        The maximum number of parallel requests at initial page load would be lower or equal to 3.
                    </li>
                    <li class="fragment ">
                        When trying to fulfill the last two conditions, bigger chunks are preferred.
                    </li>
                </ul>
            </section>
            <section data-background="#ffc600 ">
                <h3>Extracting a Runtime</h3>
                <p class="fragment"><b>config/webpack.prod.config.js</b></p>
                <pre class="fragment "><code data-trim>
                optimization: {
                    runtimeChunk: 'single',
                },
                </code></pre>
                <p class="fragment ">After adding <span class="fragment"><code>runtimeChunk</code>,</span> a <b><i>new</i></b> (default name) <code class="fragment">runtime</code> file will be created. The value <code class="fragment">"single"</code> creates a <b class="fragment"><i>single</i></b>
                    <b>runtime file</b> to be shared for <b class="fragment">ALL</b> generated <span class="fragment"><span class="fragment"><b>chunks</b>.</span></p>
            </section>
            <section data-background="#ffc600 ">
                <h3>Dev Output In Terminal</h3>
                <pre class="fragment "><code data-trim>
                10926 ¬± npm run start ‚úπ

                > speech-to-text-app@0.0.1 start /Users/mariacam/Development/speech-to-text-app
                > webpack-dev-server --mode development --config config/webpack.base.config.js --open --hot --history-api-fallback
                --env.PLATFORM=local --env.VERSION=stag

                clean-webpack-plugin: /Users/mariacam/Development/speech-to-text-app/config/dist has been removed.
                ‚Ñπ ÔΩ¢wdsÔΩ£: Project is running at http://localhost:8080/
                ‚Ñπ ÔΩ¢wdsÔΩ£: webpack output is served from /
                ‚Ñπ ÔΩ¢wdsÔΩ£: 404s will fallback to /index.html
                ‚Ñπ ÔΩ¢wdmÔΩ£: wait until bundle finished: /
                ‚Ñπ ÔΩ¢wdmÔΩ£: Hash: cc60f0b1138d573ca57d
                Version: webpack 4.3.0
                Time: 7393ms
                Built at: 11/23/2018 3:29:44 PM
                Asset Size Chunks Chunk Names
                src/favicon.2cc0ddfd.ico 1.06 KiB [emitted]
                scripts/Speech.chunk.js 29.9 KiB Speech [emitted] Speech
                scripts/main.chunk.js 50.2 KiB main [emitted] main
                scripts/vendors~Speech.chunk.js 794 KiB vendors~Speech [emitted] vendors~Speech
                scripts/vendors~main.chunk.js 1.27 MiB vendors~main [emitted] vendors~main
                favicon.ico 1.06 KiB [emitted]
                index.html 485 bytes [emitted]
                precache-manifest.ead46283758951b05b27e4de5ca60d6c.js 655 bytes [emitted]
                sw.js 907 bytes [emitted]
                Entrypoint main = scripts/vendors~main.chunk.js scripts/main.chunk.js
                [./node_modules/core-js/es6/map.js] 208 bytes {vendors~main} [built]
                [./node_modules/core-js/es6/set.js] 208 bytes {vendors~main} [built]
                [./node_modules/webpack-dev-server/client/index.js?http://localhost:8080]
                (webpack)-dev-server/client?http://localhost:8080 7.78 KiB {vendors~main} [built]
                [./node_modules/webpack-dev-server/client/overlay.js] (webpack)-dev-server/client/overlay.js 3.58 KiB {vendors~main}
                [built]
                [./node_modules/webpack-dev-server/client/socket.js] (webpack)-dev-server/client/socket.js 1.05 KiB{vendors~main}
                [built]
                [./node_modules/webpack/hot sync ^\.\/log$] (webpack)/hot sync nonrecursive ^\.\/log$ 170 bytes {main} [built]
                [./node_modules/webpack/hot/dev-server.js] (webpack)/hot/dev-server.js 1.66 KiB {vendors~main} [built]
                [./node_modules/webpack/hot/emitter.js] (webpack)/hot/emitter.js 77 bytes {vendors~main} [built]
                [./node_modules/webpack/hot/log-apply-result.js] (webpack)/hot/log-apply-result.js 1.31 KiB {vendors~main} [built]
                [./node_modules/webpack/hot/log.js] (webpack)/hot/log.js 1.03 KiB {vendors~main} [built]
                [0] multi (webpack)-dev-server/client?http://localhost:8080 (webpack)/hot/dev-server.js ./src/index.js 52 bytes {main}
                [built]
                [./src/App.js] 1.04 KiB {main} [built]
                [./src/favicon.ico] 70 bytes {main} [built]
                [./src/index.js] 382 bytes {main} [built]
                [./src/styles.scss] 1.33 KiB {main} [built]
                + 117 hidden modules
                Child html-webpack-plugin for "index.html":
                1 asset
                Entrypoint undefined = index.html
                [./node_modules/html-webpack-plugin/lib/loader.js!./src/index.html] 504 bytes {0} [built]
                [./node_modules/lodash/lodash.js] 527 KiB {0} [built]
                [./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 509 bytes {0} [built]
                [./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 519 bytes {0} [built]
                ‚Ñπ ÔΩ¢wdmÔΩ£: Compiled successfully.
                </code></pre>
            </section>
            <section data-background="#ffc600">
                <h3>Dev Output In Terminal</h3>
                <p class="fragment">
                    So much has changed even in <b class="fragment">Terminal</b> <b class="fragment"><i>output</i></b> when running your <b class="fragment">React application</b> in
                    <b class="fragment">dev
    mode</b> with <span class="fragment"><b>webpack-dev-server</b>.</span> Everything configured in <code class="fragment">config/webpack.base.config.js</code> prints out in <span class="fragment"><b>Terminal</b>.</span> So cool, right?
                </p>
            </section>
            <section data-background="#ffc600">
                <p><b>custom script, webpack-dev-server</b></p>
                <pre class="fragment"><code data-trim>
                10926 ¬± npm run start ‚úπ

                > speech-to-text-app@0.0.1 start /Users/mariacam/Development/speech-to-text-app
                > webpack-dev-server --mode development --config config/webpack.base.config.js --open --hot --history-api-fallback
                --env.PLATFORM=local --env.VERSION=stag
                </code></pre>
                <p class="fragment">
                    <code class="fragment">npm run start</code> is my custom script for running my app in <b class="fragment">dev mode</b> using <span class="fragment"><code>webpack-dev-server</code>.</span>
                    <code class="fragment">webpack-dev-server --mode development</code> runs the <code class="fragment">webpack-dev-server</code> in development. <code class="fragment">webpack-dev-server</code> provides a simple web server and ability
                    to use live reloading in development only.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>--mode development</h3>
                <p><b>custom script, webpack-dev-server</b></p>
                <pre class="fragment"><code data-trim>
                new webpack.DefinePlugin({
                    'process.env.VERSION': JSON.stringify(env.VERSION),
                    'process.env.PLATFORM': JSON.stringify(env.PLATFORM)
                })
                </code></pre>
                <p class="fragment">Sets
                    <a class="fragment" href="https://webpack.js.org/concepts/mode/">process.env.PLATFORM</a> on <b class="fragment">DefinePlugin</b> to <span class="fragment"><code>--mode development</code>.</span> it also enables
                    <b class="fragment">NamedChunksPlugin</b> and <span class="fragment"><b>NamedModulesPlugin</b>.</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>--mode development</h3>
                <p><b>custom script, webpack-dev-server</b></p>
                <pre class="fragment"><code data-trim>
                new webpack.DefinePlugin({
                    'process.env.VERSION': JSON.stringify(env.VERSION),
                    'process.env.PLATFORM': JSON.stringify(env.PLATFORM)
                })
                </code></pre>
                <p class="fragment">I define <code class="fragment">--mode development</code> alongside <b class="fragment">ternary operators</b> throughout <code class="fragment">webpack.base.config.js</code> using the <b class="fragment">PLATFORM</b> variable.</p>
            </section>
            <section data-background="#ffc600">
                <p><b>custom script, webpack-dev-server</b></p>
                <pre class="fragment"><code data-trim>
                10926 ¬± npm run start ‚úπ

                > speech-to-text-app@0.0.1 start /Users/mariacam/Development/speech-to-text-app
                > webpack-dev-server --mode development --config config/webpack.base.config.js --open --hot --history-api-fallback
                --env.PLATFORM=local --env.VERSION=stag
                </code></pre>
                <p class="fragment">
                    Next we have to tell <b class="fragment">webpack</b> <b class="fragment"><i>where</i></b> to look for <span class="fragment"><b>files</b>.</span> Since we are <b class="fragment">using</b> a <b class="fragment"><i>custom script</i></b>                    to do this
                    <b class="fragment"><i>instead of</i></b> the <b class="fragment">webpack config</b> file, we first add the <code class="fragment">--config</code> flag followed by <b class="fragment">config/webpack.base.config.js</b> to let
                    <b class="fragment">webpack</b> know that <code class="fragment">webpack.base.config.js</code> is the <b class="fragment">config</b> file located in a folder called <span class="fragment"><b><i>config</i></b>.</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <p><b>custom script, webpack-dev-server</b></p>
                <pre class="fragment"><code data-trim>
                10926 ¬± npm run start ‚úπ

                > speech-to-text-app@0.0.1 start /Users/mariacam/Development/speech-to-text-app
                > webpack-dev-server --mode development --config config/webpack.base.config.js --open --hot --history-api-fallback
                --env.PLATFORM=local --env.VERSION=stag
                </code></pre>
                <p class="fragment">
                    We can <b class="fragment"><i>only</i></b> use this <b>flag</b> if there indeed IS a <b class="fragment">config</b> folder that holds <span class="fragment"><code>webpack.base.config.js</code>.</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <p><b>custom script, webpack-dev-server</b></p>
                <pre class="fragment"><code data-trim>
                10926 ¬± npm run start ‚úπ

                > speech-to-text-app@0.0.1 start /Users/mariacam/Development/speech-to-text-app
                > webpack-dev-server --mode development --config config/webpack.base.config.js --open --hot --history-api-fallback
                --env.PLATFORM=local --env.VERSION=stag
                </code></pre>
                <p class="fragment">The <code class="fragment">--config</code> <b class="fragment"><i>flag</i></b> is followed by <code class="fragment">config/webpack.base.config.js</code> to <b class="fragment"><i>indicate</i></b> the <b class="fragment">file</b> to
                    <b class="fragment"><i>interpret</i></b> in <span class="fragment"><b>dev mode</b>.</span> The <code class="fragment">--open</code> flag opens the application in your <b class="fragment"><i>default</i></b> browser.
                </p>
            </section>
            <section data-background="#ffc600">
                <p><b>custom script, webpack-dev-server</b></p>
                <pre class="fragment"><code data-trim>
                10926 ¬± npm run start ‚úπ

                > speech-to-text-app@0.0.1 start /Users/mariacam/Development/speech-to-text-app
                > webpack-dev-server --mode development --config config/webpack.base.config.js --open --hot --history-api-fallback
                --env.PLATFORM=local --env.VERSION=stag
                </code></pre>
                <p class="fragment">
                    The <code class="fragment">--hot</code> <b class="fragment">flag</b> enables <b class="fragment">HMR</b> (Hot Module Replacement).
                    <a href="https://survivejs.com/webpack/appendices/hmr/">
                        HMR builds on top of WDS
                    </a> (webpack-dev-server). It makes it possible to <b class="fragment"><i>swap</i></b> <b class="fragment">modules</b> live.
                </p>
            </section>
            <section data-background="#ffc600">
                <p><b>custom script, webpack-dev-server</b></p>
                <h3 class="fragment">style-loader</h3>
                <p class="fragment">
                    The reason I use <code class="fragment">style-loader</code> in <span class="fragment"><b>development</b>,</span> for example, is because the<code class="fragment">MiniCssExtractPlugin</code> does NOT support <span class="fragment"><b>HMR</b>,</span>                    but
                    <code class="fragment">style-loader</code> DOES. That makes it <b class="fragment"><i>possible</i></b> to <b class="fragment">update</b> any <b class="fragment">changes</b> in my <b class="fragment">styles</b> <b class="fragment"><i>without</i></b>                    <b class="fragment">refreshing</b> the page.
                </p>
            </section>
            <section data-background="#ffc600">
                <p><b>custom script, webpack-dev-server</b></p>
                <pre class="fragment"><code data-trim>
                10926 ¬± npm run start ‚úπ

                > speech-to-text-app@0.0.1 start /Users/mariacam/Development/speech-to-text-app
                > webpack-dev-server --mode development --config config/webpack.base.config.js --open --hot --history-api-fallback
                --env.PLATFORM=local --env.VERSION=stag
                </code></pre>
                <p class="fragment">
                    The <code class="fragment">--history-api-fallback</code> <b class="fragment">flag</b> makes <b class="fragment">404s</b> fallback to <span class="fragment"><code>/index.html</code>.</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <p><b>custom script, webpack-dev-server</b></p>
                <pre class="fragment"><code data-trim>
                10926 ¬± npm run start ‚úπ

                > speech-to-text-app@0.0.1 start /Users/mariacam/Development/speech-to-text-app
                > webpack-dev-server --mode development --config config/webpack.base.config.js --open --hot --history-api-fallback
                --env.PLATFORM=local --env.VERSION=stag
                </code></pre>
                <p class="fragment">
                    <code class="fragment">--env.PLATFORM=local</code> lets <b class="fragment">webpack-dev-server</b> know that it is running <span class="fragment"><b><i>locally</i></b>.</span> Whatever is set to
                    <code class="fragment">PLATFORM === 'development'</code> in <code class="fragment">config/webpack.base.config.js</code> will be triggered by <span class="fragment"><code>npm run start</code>.</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <p><b>custom script, webpack-dev-server</b></p>
                <pre class="fragment"><code data-trim>
                10926 ¬± npm run start ‚úπ

                > speech-to-text-app@0.0.1 start /Users/mariacam/Development/speech-to-text-app
                > webpack-dev-server --mode development --config config/webpack.base.config.js --open --hot --history-api-fallback
                --env.PLATFORM=local --env.VERSION=stag
                </code></pre>
                <p class="fragment">
                    <code class="fragment">--env.VERSION=stag</code> refers to the <span class="fragment"><b>staging environment</b>.</span> The <b class="fragment">staging environment</b> here is in
                    <span class="fragment"><b>dev mode</b>.</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Dev Output In Terminal</h3>
                <p class="fragment"><b>dev instance info</b></p>
                <pre class="fragment"><code data-trim>
                clean-webpack-plugin: /Users/mariacam/Development/speech-to-text-app/config/dist has been removed.
                </code></pre>
                <p class="fragment">
                    This line lets us know that the <a href="https://survivejs.com/webpack/building/tidying-up/">clean-webpack-plugin</a> has removed any <b class="fragment"><i>old</i></b> file <b class="fragment">versions</b> in the <b class="fragment">dist</b>                    folder <b class="fragment"><i>before</i></b> a <b class="fragment">build</b> process.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Dev Output In Terminal</h3>
                <p><b>dev instance info</b></p>
                <pre class="fragment"><code data-trim>
                ‚Ñπ ÔΩ¢wdsÔΩ£: Project is running at http://localhost:8080/
                ‚Ñπ ÔΩ¢wdsÔΩ£: webpack output is served from /
                </code></pre>
                <p class="fragment">
                    The first line emitted by <b>[wds]</b> tells us on which localhost our app is running. the next lets us know the <b class="fragment">contentBase</b> of the <span class="fragment"><b>dev build</b>.</span> In the <b>first edition</b>,
                    I added a <b class="fragment">devServer</b> object to my
                    <b class="fragment">webpack dev config</b>, and <b class="fragment">contentBase</b> was one of its properties. I set <b>contentBase</b> to
                    <span class="fragment"><code>'./src/'</code>.</span> If it is not explicitly set, then it defaults to <span class="fragment"><code>'/'</code>.</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Dev Output In Terminal</h3>
                <p class="fragment"><b>dev instance info</b></p>
                <pre class="fragment"><code data-trim>
                ‚Ñπ ÔΩ¢wdsÔΩ£: 404s will fallback to /index.html
                </code></pre>
                <p class="fragment">This line is emitted as a result of the <code class="fragment">--history-api-fallback</code> <span class="fragment">flag.</span></p>
            </section>
            <section data-background="#ffc600">
                <h3>Dev Output In Terminal</h3>
                <p class="fragment"><b>dev instance info</b></p>
                <pre class="fragment"><code data-trim>
                ‚Ñπ ÔΩ¢wdmÔΩ£: wait until bundle finished: /
                ‚Ñπ ÔΩ¢wdmÔΩ£: Hash: cc60f0b1138d573ca57d
                </code></pre>
                <p class="fragment">
                    <code class="fragment">[wdm]</code> stands for <span class="fragment"><code >webpack-dev-middleware</code>.</span> It is <b><i>not</i></b> <b>new</b> to <b>webpack
4</b>, but it <b><i>is</i></b> <b>new</b> to me because of my new approach(es) to the workflow. It is a <b>wrapper</b> that <b>emits</b> files <b><i>processed</i></b> by <b>webpack</b> to a <b>server</b>. It is <b>built</b> into <b>[wds]</b>, but is also
                    available as a <b><i>separate</i></b> package to allow more <b>custom</b> options.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>[wds]/[wdm]</h3>
                <blockquote class="fragment">
                    The <b>webpack-dev-server</b> is a little <b>Node.js Express server</b>, which uses the <b>webpack-dev-middleware</b> to serve a webpack bundle. It also has a little runtime which is connected to the server via Sock.js. The server
                    emits information about the compilation state to the client, which reacts to those events. You can choose between different modes, depending on your needs. - <a href="https://github.com/webpack/docs/wiki/webpack-dev-server">webpack wiki docs on Github</a>
                </blockquote>
            </section>
            <section data-background="#ffc600">
                <h3>[wds][wdm]</h3>
                <p class="fragment">It was very <b><i>difficult</i></b> to pin down <b>current</b> (official) documentation which would provide a good explanation of the <b>[wdm]</b> <b><i>internal</i></b> to <b>[wds]</b>. I don't know how <b>'current'</b> the explanation
                    I found in the <b><i>webpack wiki</i></b> is (it's a over a year old), but it still gives a good idea of the
                    <a href="https://github.com/webpack/docs/wiki/webpack-dev-server">relationship</a> between <b>[wds]</b> and <b>[wdm]</b>.</p>
            </section>
            <section data-background="#ffc600">
                <h3>Dev Output In Terminal</h3>
                <p class="fragment"><b>dev instance info</b></p>
                <pre class="fragment"><code data-trim>
                ‚Ñπ ÔΩ¢wdmÔΩ£: wait until bundle finished: /
                ‚Ñπ ÔΩ¢wdmÔΩ£: Hash: cc60f0b1138d573ca57d
                </code></pre>
                <p class="fragment">
                    As the <b>dev</b> bundle is being built, <b>[wdm]</b> prints out the first message. After the build is complete, it prints out a compilation/build <b>hash</b>. Every time a <b><i>change</i></b> is made in the <b>dev</b> build, a <b><i>new</i></b>
                    <b>hash</b> is emitted identifying that build.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Dev Output In Terminal</h3>
                <p class="fragment"><b>dev instance info</b></p>
                <pre class="fragment"><code data-trim>
                Version: webpack 4.3.0
                Time: 7393ms
                Built at: 11/23/2018 3:29:44 PM
                </code></pre>
            </section>
            <section data-background="#ffc600">
                <h3>Dev Output In Terminal</h3>
                <p class="fragment"><b>assets emitted</b></p>
                <p class="fragment">If you check to see how assets were set up in <b class="fragment">webpack.base.config.js</b>, viewable in <a href="https://interglobalmedia.github.io/react-workflow-updated-2018/#/103">slide 103</a>, this would all make sense.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Dev Output In Terminal</h3>
                <p class="fragment"><b>assets emitted</b></p>
                <p class="fragment">
                    Also note
                    <code>src/favicon.2cc0ddfd.ico</code> in <a href="https://interglobalmedia.github.io/react-workflow-updated-2018/#/100">slide 100</a>. This is why I end up with a <b>src</b> folder in <b>dist</b> containing this file. However, I need
                    to add that as the <b>value</b> of <b>favicon</b> in the <b>HtmlWebpackPlugin</b> definition in order to <b>inject</b> <code>favicon.ico</code> into <code>index.html</code>.
                </p>
            </section>
            <section data-background="#ffc600">
                <p>
                    <b>
                    other webpack base configs
                    </b>
                </p>
                <pre class="fragment"><code data-trim>
                optimization: {
                    splitChunks: {
                        chunks: 'all'
                    }
                },
                </code></pre>
                <p class="fragment">The <code>'all'</code> value means that chunks can be shared between <b><i>async</i></b> and <b><i>non-async</i></b>
                    <b>chunks</b>, and this can be very powerful.</p>
            </section>
            <section data-background="#ffc600">
                <p>
                    <b>
                        other webpack base configs
                    </b>
                </p>
                <pre class="fragment"><code data-trim>
                new CopyWebpackPlugin([{
                    from: 'src/static'
                }]),
                </code></pre>
                <p class="fragment">I didn't technically need the <b>copy-webpack-plugin</b> for this particular app I used towards this <b>second edition</b>, but normally I would (it's where I would place my images for example), so I added it to the workflow here. Basically
                    it <b><i>copies</i></b> any <b>assets</b> in the <b>static</b> folder over to the <b>dist</b> folder.</p>
            </section>
            <section data-background="#ffc600">
                <p>
                    <b>
                        other webpack base configs
                    </b>
                </p>
                <pre class="fragment"><code data-trim>
                new WorkboxPlugin.GenerateSW({
                    swDest: 'sw.js'
                }),
                </code></pre>
                <p class="fragment">This is something entirely <b><i>new</i></b> to the workflow, but <b><i>not</i></b> to <b>CRA</b>. It is the configuration for the <b>workbox-webpack-plugin</b>.</p>
            </section>
            <section data-background="#ffc600">
                <p>
                    <b>
                        other webpack base configs
                    </b>
                </p>
                <pre class="fragment"><code data-trim>
                new WorkboxPlugin.GenerateSW({
                    swDest: 'sw.js'
                }),
                </code></pre>
                <p class="fragment">This configuration generates an <b>sw.js</b> (service-worker) file in <b>production</b>, and lets webpack know its <b>destination</b>, including the name of the file. The reason there is no <b>dest</b> folder is because if one was added
                    (dist) to the 'path', then a <b><i>new</i></b> <b>dist</b> within <b>dist</b> would be created. webpack already knows its destination.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>service worker</h3>
                <p class="fragment">the <b><i>why</i></b> :
                    <a href="https://developers.google.com/web/tools/workbox/guides/precache-files/">precache
                        files
                    </a>
                </p>
                <p class="fragment">
                    If you want your web app to work <b>offline</b> or there are assets you know can be <b>cached</b> for a long time, <b>pre-caching</b> is the best approach. <b>precaching</b> a file <b><i>ensures</i></b> that a file is <b>downloaded</b>                    and <b>cached</b>
                    <b><i>before</i></b> a <b>service worker</b> is <b>installed</b>, meaning that if your <b>service worker</b> is <b>installed</b>, your files will be cached.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>workbox and precaching</h3>
                <p class="fragment">
                    the workbox-webpack-plugin provides an easy way to precache files, but it can also create a precache-manifest.json file that lists the files to precache. It provides a list of the files to be precached along with revisioning.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>precache-manifest.json</h3>
                <pre class="fragment"><code data-trim>
                self.__precacheManifest = [
                  {
                    "url": "styles/main.690dfc9a9eacd0ee4d0f.css"
                  },
                  {
                    "url": "styles/Speech.690dfc9a9eacd0ee4d0f.css"
                  },
                  {
                    "revision": "2cc0ddfdc87f52e9d8c0c7d5b6efbebe",
                    "url": "src/favicon.2cc0ddfd.ico"
                  },
                  {
                    "revision": "c00558e3eb099318bfd7",
                    "url": "scripts/vendors~main.1ad1cd98b3cea083930b.chunk.js"
                  },
                  {
                    "revision": "91502a5c5a80b43265a1",
                    "url": "scripts/vendors~Speech.f0e3c9ecdeb61f482646.chunk.js"
                  },
                  {
                    "revision": "526080fd283e0b39d519",
                    "url": "scripts/runtime.f6f71c9f7a8cf14b349f.chunk.js"
                  },
                  {
                    "revision": "1365bbd7f1fd166121d6",
                    "url": "scripts/main.f8d88775b8bc47d47855.chunk.js"
                  },
                  {
                    "revision": "07fd12356b7d18233857",
                    "url": "scripts/Speech.d477efae3d7e20cf3ae3.chunk.js"
                  },
                  {
                    "revision": "23378fffa3b2d116a81dbb2052c30463",
                    "url": "index.html"
                  },
                  {
                    "revision": "2cc0ddfdc87f52e9d8c0c7d5b6efbebe",
                    "url": "favicon.ico"
                  }
                ];
                </code></pre>
            </section>
            <section data-background="#ffc600">
                <h3>precache-manifest.json</h3>
                <p class="fragment">
                    <b>precache-manifest.json</b> prints out the <b><i>list</i></b> of <b>files</b> being <b>precached</b>, basically all your app's <b>assets</b> (by default). It consists of <b><i>two</i></b> <b>attribute-value</b> pairs. The <b>url</b>                    attribute and its <b>value</b>, and the <b>revisioning</b> attribute and its <b>value</b>.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>precache-manifest.json</h3>
                <p class="fragment"><b>url</b> attribute-value pair</p>
                <p class="fragment">
                    The <b>url</b> value is the <b><i>path</i></b> to the <b>asset</b> as it appears in the <b>index.html</b> tag. That <b><i>usually</i></b> does <b><i>not</i></b> <b>change</b> unless there is a complete <b>overhaul</b> of an app's <b>workflow configuration</b>!
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>precache-manifest.json</h3>
                <p class="fragment"><b>revisioning</b> attribute-value pair</p>
                <p class="fragment">
                    The <b>revisioning</b> value on the other hand, <b><i>changes</i></b> when there is a <b><i>change</i></b> to the
                    <b>asset</b>'s <b><i>content</i></b>. This way, old versions of a file will not continue to be cached. They are <b><i>updated</i></b> with the help of <b>workbox</b> and <b><i>new</i></b> <b>caches</b> are generated.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Build Output in Terminal</h3>
                <pre class="fragment"><code data-trim>
                npm run predeploy ‚èé ‚úπ

                > speech-to-text-app@0.0.1 predeploy /Users/mariacam/Development/speech-to-text-app
                > webpack --mode production --config config/webpack.prod.config.js --env.PLATFORM=production --env.VERSION=stag
                --progress

                clean-webpack-plugin: /Users/mariacam/Development/speech-to-text-app/config/dist has been removed.
                0% compiling(node:29675) DeprecationWarning: Tapable.plugin is deprecated. Use new API on `.hooks` instead
                Hash: 690dfc9a9eacd0ee4d0f
                Version: webpack 4.3.0
                Time: 25239ms
                Built at: 11/23/2018 6:36:14 PM
                Asset Size Chunks Chunk Names
                styles/main.690dfc9a9eacd0ee4d0f.css 720 bytes 4 [emitted] main
                src/favicon.2cc0ddfd.ico 1.06 KiB [emitted]
                styles/Speech.690dfc9a9eacd0ee4d0f.css 1.39 KiB 1 [emitted] Speech
                scripts/Speech.d477efae3d7e20cf3ae3.chunk.js 7.32 KiB 1 [emitted] Speech
                scripts/runtime.f6f71c9f7a8cf14b349f.chunk.js 2.64 KiB 2 [emitted] runtime
                scripts/vendors~main.1ad1cd98b3cea083930b.chunk.js 129 KiB 3 [emitted] vendors~main
                scripts/vendors~Speech.f0e3c9ecdeb61f482646.chunk.js 26.6 KiB 0 [emitted] vendors~Speech
                scripts/main.f8d88775b8bc47d47855.chunk.js 1.27 KiB 4 [emitted] main
                favicon.ico 1.06 KiB [emitted]
                index.html 686 bytes [emitted]
                precache-manifest.25877dad8e187853834337f15891def2.js 967 bytes [emitted]
                sw.js 907 bytes [emitted]
                asset-manifest.json 702 bytes [emitted]
                Entrypoint main = scripts/runtime.f6f71c9f7a8cf14b349f.chunk.js scripts/vendors~main.1ad1cd98b3cea083930b.chunk.js
                styles/main.690dfc9a9eacd0ee4d0f.css scripts/main.f8d88775b8bc47d47855.chunk.js
                [+EN/] ./src/styles.scss 39 bytes {4} [built]
                [NX+1] ./src/App.scss 245 bytes {4} [built]
                [Z1A6] ./src/components/speech/Speech.js + 5 modules 12.9 KiB {1} [built]
                | 6 modules
                [m1cd] ./src/favicon.ico 70 bytes {4} [built]
                [tjUo] ./src/index.js + 1 modules 1.45 KiB {4} [built]
                | ./src/index.js 382 bytes [built]
                | ./src/App.js 1.04 KiB [built]
                [yLpj] (webpack)/buildin/global.js 509 bytes {0} [built]
                + 89 hidden modules
                Child mini-css-extract-plugin
                node_modules/css-loader/index.js??ref--6-1!node_modules/postcss-loader/src/index.js!node_modules/sass-loader/lib/loader.js!src/App.scss:
                Entrypoint mini-css-extract-plugin = *
                [bUMP]
                ./node_modules/css-loader??ref--6-1!./node_modules/postcss-loader/src!./node_modules/sass-loader/lib/loader.js!./src/App.scss
                2.47 KiB {0} [built]
                + 1 hidden module
                Child mini-css-extract-plugin
                node_modules/css-loader/index.js??ref--6-1!node_modules/postcss-loader/src/index.js!node_modules/sass-loader/lib/loader.js!src/styles.scss:
                Entrypoint mini-css-extract-plugin = *
                [OL5h]
                ./node_modules/css-loader??ref--6-1!./node_modules/postcss-loader/src!./node_modules/sass-loader/lib/loader.js!./src/styles.scss
                959 bytes {0} [built]
                + 1 hidden module
                Child html-webpack-plugin for "index.html":
                1 asset
                Entrypoint undefined = index.html
                [MFLM] ./node_modules/html-webpack-plugin/lib/loader.js!./src/index.html 504 bytes {0} [built]
                [YuTi] (webpack)/buildin/module.js 519 bytes {0} [built]
                [yLpj] (webpack)/buildin/global.js 509 bytes {0} [built]
                + 1 hidden module
                Child mini-css-extract-plugin
                node_modules/css-loader/index.js??ref--6-1!node_modules/postcss-loader/src/index.js!node_modules/sass-loader/lib/loader.js!src/components/speech/Speech.scss:
                Entrypoint mini-css-extract-plugin = *
                2 modules
                </code></pre>
            </section>
            <section data-background="#ffc600">
                <p><b>custom script,</b> npm run predeploy</p>
                <pre class="fragment"><code data-trim>
                npm run predeploy ‚èé ‚úπ

                > speech-to-text-app@0.0.1 predeploy /Users/mariacam/Development/speech-to-text-app
                > webpack --mode production --config config/webpack.prod.config.js --env.PLATFORM=production --env.VERSION=stag
                --progress
                </code></pre>
                <p class="fragment">
                    <code>npm run predeploy</code> is the <b>custom script</b> I run before I <b><i>deploy</i></b> to <b>gh-pages</b>. It
                    <b><i>builds</i></b> my <b>dist </b>folder required for <b>deployment</b> (or re-deployment) to <b>gh-pages</b>. This script is shorter than npm run start, and some things should also look <b><i>familiar</i></b>.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>mode === production</h3>
                <p class="fragment"><b>custom script,</b> npm run predeploy</p>
                <pre class="fragment"><code data-trim>
                npm run predeploy ‚èé ‚úπ

                > speech-to-text-app@0.0.1 predeploy /Users/mariacam/Development/speech-to-text-app
                > webpack --mode production --config config/webpack.prod.config.js --env.PLATFORM=production --env.VERSION=stag
                --progress
                </code></pre>
                <p class="fragment">
                    Now, instead of <code class="fragment">webpack-dev-server</code> command, we use the <code class="fragment">webpack</code> commmand. In order to <b><i>properly</i></b> use the <code class="fragment">webpack</code> command, we need
                    to have the <code class="fragment">webpack-cli</code> installed as a <b><i>devDependency</i></b> in our app.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>mode === production</h3>
                <p class="fragment"><b>custom script,</b> npm run predeploy</p>
                <p class="fragment">
                    This is a <b><i>change</i></b> from the <a href="https://github.com/interglobalmedia/portfolio/blob/master/package.json">first
    edition</a>, where I used <code>TARGET_ENV=development</code> in my custom <code>npm run serve</code> script, declared and defined a variable <code>TARGET_ENV</code> in <code>webpack-dev.config.js</code>, and <code>new
    webpack.DefinePlugin({DEV:
    true})</code>.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>mode === production</h3>
                <p class="fragment"><b>custom script,</b> npm run predeploy</p>
                <p class="fragment">I also did <b><i>not</i></b> install or use the <b>webpack-cli</b>, which can be <b><i>limiting</i></b>.</p>
            </section>
            <section data-background="#ffc600">
                <h3>mode === production</h3>
                <p class="fragment"><b>custom script,</b> npm run predeploy</p>
                <pre class="fragment"><code data-trim>
                webpack --mode production --config config/webpack.prod.config.js --env.PLATFORM=production --env.VERSION=stag
                </code></pre>
                <p class="fragment">This line is similar to the one related to <code class="fragment">webpack-dev-server</code>, but for <b>production</b>. The <code class="fragment">--progress</code> flag allows you to see the <b>(%) progress</b> of your <b>production</b>                    build.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Build Output In Terminal</h3>
                <p class="fragment"><b>assets emitted</b></p>
                <p class="fragment">Again, if you check to see how <b>assets</b> were set up in <b class="fragment">webpack.base.config.js</b>, viewable in <a href="https://interglobalmedia.github.io/react-workflow-updated-2018/#/57">slide 57</a>, <b>assets
emitted</b> would <b><i>mostly</i></b> make sense. <b><i>Specifically</i></b>, <b><i>non</i></b> <b>node_module</b> related <code>.js files/chunks</code> and <code>.css files/chunks</code>. But there is <b>one</b> <b><i>type</i></b> of file that throws
                    many people off and that I wanted to <b>discuss</b> <b><i>only</i></b> in <b>production</b> because of its related <b>configuration</b> in <b>config/webpack.prod.config.js</b>. Can you guess which one that is?
            </section>
            <section data-background="#ffc600">
                <h3>Build Output In Terminal</h3>
                <p class="fragment"><b>assets emitted:</b> bundle splitting</p>
                <pre class="fragment"><code data-trim>
                scripts/vendors~main.1ad1cd98b3cea083930b.chunk.js 129 KiB 3 [emitted] vendors~main
                scripts/vendors~Speech.f0e3c9ecdeb61f482646.chunk.js 26.6 KiB 0 [emitted] vendors~Speech
                </code></pre>
            </section>
            <section data-background="#ffc600">
                <p>config/webpack.prod.config.js</p>
                <pre class="fragment"><code data-trim>
                const webpack = require('webpack');
                const merge = require('webpack-merge');

                const ManifestPlugin = require('webpack-manifest-plugin');
                const OptimizeCssAssetsPlugin = require('optimize-css-assets-webpack-plugin');
                const UglifyJSPlugin = require('uglifyjs-webpack-plugin');
                const Visualizer = require('webpack-visualizer-plugin');

                const baseConfig = require('./webpack.base.config');

                const prodConfiguration = env => {
                    return merge([
                        {
                            optimization: {
                                splitChunks: {
                                    chunks: 'all',
                                    maxInitialRequests: Infinity,
                                    minSize: 0,
                                    cacheGroups: {
                                        vendor: {
                                            test: / [\\/]node_modules[\\/]/,
                                            name(module) {
                                                // get the name. E.g. node_modules/packageName/not/this/part.js
                                                // or node_modules/packageName
                                                const packageName = module.context.match(/[\\/]node_modules[\\/](.*?)([\\/]|$)/)[1];

                                                // npm package names are URL-safe, but some servers don't like @ symbols
                                                return `npm.${packageName.replace('@', '')}`;
                                            },
                                        },
                                        styles: {
                                            name: 'main',
                                            test: /\.css$/,
                                            chunks: 'all',
                                            enforce: true
                                        }
                                    },
                                },
                                runtimeChunk: 'single',
                                minimizer: [
                                    new UglifyJSPlugin(),
                                    new OptimizeCssAssetsPlugin()
                                ],
                            },
                            plugins: [
                                new ManifestPlugin({
                                    fileName: ('asset-manifest.json')
                                }),
                                new webpack.HashedModuleIdsPlugin(),
                                new Visualizer({ filename: './statistics.html'})
                            ]
                        }
                    ])
                }

                module.exports = env => {
                    return merge(baseConfig(env), prodConfiguration(env));
                }
                </code></pre>
            </section>
            <section data-background="#ffc600">
                <h3>Build Output In Terminal</h3>
                <p class="fragment">
                    (vendor) node_module bundle splitting
                </p>
                <p class="fragment">
                    When I first tried to implement the <b>approach</b> I took in the <b>first edition</b>, the <b>size</b> of my <b>vendor</b> bundle was VERY BIG. It was <code>> 2MB</code>, way over the suggested size of
                    <code><= 244KB</code>. Then I tried to split up the <b>vendor entry files</b> into <b>individual node_module dependencies</b>, but that did no good.</p>
            </section>
            <section data-background="#ffc600">
                <h3>Build Output In Terminal</h3>
                <p class="fragment">
                    (vendor) node_module bundle splitting
                </p>
                <p class="fragment">
                    I started searching for a better way. At this point I knew that I should split the vendor bundle somehow into individual node_module chunks, but I just did not know how. I had to learn more about the new webpack in order to make that happen.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Build Output In Terminal</h3>
                <p class="fragment">
                    (vendor) bundle splitting
                </p>
                <p class="fragment">
                    After further research into <b>webpack</b> and some <b>google searches</b>, I came across <i>David Gilbertson</i>'s article <a href="https://hackernoon.com/the-100-correct-way-to-split-your-chunks-with-webpack-f8a9df5b7758">The 100% correct way to split your chunks with Webpack</a>.
                    It was EXACTLY what I was looking for!
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p>what <b><i>hasn't</i></b> changed</p>
                <pre class="fragment"><code data-trim>
                const webpack = require('webpack');
                const OptimizeCssAssetsPlugin = require('optimize-css-assets-webpack-plugin');
                const UglifyJSPlugin = require('uglifyjs-webpack-plugin');
                </code></pre>
                <p class="fragment">As in the first edition, we need to require webpack, optimize-css-assets-webpack-plugin, and the uglifyjs-webpack-plugin.</p>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment">what's <b><i>new</i></b></p>
                <pre class="fragment"><code data-trim>
                    const merge = require('webpack-merge');
                    const ManifestPlugin = require('webpack-manifest-plugin');
                    const Visualizer = require('webpack-visualizer-plugin');
                    const baseConfig = require('./webpack.base.config');
                </code></pre>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment">what's <b><i>new</i></b></p>
                <ul class="fragemtn">
                    <li class="fragment">
                        require the <b>merge-webpack plugin</b>, since we are merging base with prod.
                    </li>
                    <li class="fragment">
                        require the <b>webpack-manifest-plugin</b> so that we can create an asset-manifest.plugin on build.
                    </li>
                    <li class="fragment">
                        require the <b>webpack-visualizer-plugin</b> to see which modules are taking up space and which might be duplicates.
                    </li>
                    <li class="fragment">
                        require <b>webpack.base.config.js</b> so that we can merge it into webpack.prod.config.js.
                    </li>
                </ul>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <pre class="fragment"><code data-trim>
                    const prodConfiguration = env => {}
                </code></pre>
                <p class="fragment">Again we pass env into prodConfiguration, but this time we do not have to differentiate between development and production as we did in baseConfig. By default, mode === production unless configured otherwise.</p>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <pre class="fragment"><code data-trim>
                module.exports = env => {
                    return merge(baseConfig(env), prodConfiguration(env));
                }
                </code></pre>
                <p class="fragment">This is the <b>code</b> responsible for <b><i>merging</i></b> <b>baseConfig</b> with <b>prodConfiguration</b> and passing <b>env</b> into those <b>configs</b>. Since we are <b><i>exporting</i></b> it, we can use these <b>configs</b> in
                    our <b>package.json</b>. In the <b>first edition</b> we were using <b>process.env</b>, and did <b><i>not</i></b> have to <b>export</b> our <b>env</b>. It was accessible globally. This <b>configuration</b> does NOT use <b>process.env</b>,
                    so we have to export it to make it available globally.</p>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment">optimization</p>
                <pre class="fragment"><code data-trim>
                optimization: {
                    splitChunks: {
                        chunks: 'all',
                        maxInitialRequests: Infinity,
                        minSize: 0,
                    }
                }
                </code></pre>
                <p class="fragment"><b>webpack 4</b> runs <b>optimizations</b> for you depending on the chosen <a href="https://webpack.js.org/concepts/mode/">mode</a>. You can still <b><i>manually</i></b> <b>configure</b> and <b>override</b> them, as done here.</p>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment">splitChunks</p>
                <pre class="fragment"><code data-trim>
                chunks: 'all',
                </code></pre>
                <p class="fragment">
                    As previously mentioned in [slide], choosing <code>chunks: 'all'</code> means that <b>chunks</b> can be <b><i>shared</i></b> between <b>async</b> and <b>non-async</b> chunks. It <b><i>also</i></b> tells webpack to put everything in
                    <code>node_modules/</code> into a file called <b>vendors~main.js</b>. That's why <b>vendors~main.js</b> is output in our <b>dev build</b> as well.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment">splitChunks</p>
                <pre class="fragment"><code data-trim>
                maxInitialRequests: Infinity,
                </code></pre>
                <p class="fragment">
                    By default, <b>webpack</b> sets <code>maxInitialRequests</code> to <code>3</code> in <a href="https://webpack.js.org/concepts/mode/">production</a>, but since we are <b><i>splitting up</i></b> our <b>vendors~main.js</b> into <b><i>individual</i></b>                    <b>modules</b> of an <b><i>indefinite</i></b> number, we <b><i>override</i></b> the <b>default</b> and set it to <code>Infinity</code>.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment">splitChunks</p>
                <pre class="fragment"><code data-trim>
                    minSize: 0,
                </code></pre>
                <p class="fragment">The minSize refers to the minimum size in bytes for a chunk to be generated. Since we want to split ALL modules no matter what the size, we override the default and set the minSize to 0.</p>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment">cacheGroups</p>
                <pre class="fragment"><code data-trim>
                cacheGroups: {
                    vendor: {
                        test: / [\\/]node_modules[\\/]/,
                        name(module) {
                            // get the name. E.g. node_modules/packageName/not/this/part.js
                            // or node_modules/packageName
                            const packageName = module.context.match(/[\\/]node_modules[\\/](.*?)([\\/]|$)/)[1];
                    
                            // npm package names are URL-safe, but some servers don't like @ symbols
                            return `npm.${packageName.replace('@', '')}`;
                        },
                    },
                    styles: {
                        name: 'main',
                        test: /\.css$/,
                        chunks: 'all',
                        enforce: true
                    }
                }
                </code></pre>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment">cacheGroups</p>
                <p class="fragment"><b>cachGroups</b> tells webpack to create chunks based on some conditions. To learn more, please visit the <a href="https://webpack.js.org/plugins/split-chunks-plugin/">webpack 4 docs</a>.</p>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment"><b>Configuring cacheGroups:</b> vendor</p>
                <p class="fragment">
                    The defaults assign all modules from node_modules to a cacheGroup called vendors and all modules duplicated in at least 2 chunks to a cache group default. So that's what default cacheGroups is all about! To learn more, please visit the
                    <a href="https://www.webpackjs.com/plugins/split-chunks-plugin/">SplitChunksPlugin docs</a> for <b>webpack 4.26.1</b>, but a slightly different version (and target market) than the <a href="https://webpack.js.org/plugins/split-chunks-plugin/">purely English docs</a>.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment"><b>cacheGroups:</b> vendor</p>
                <pre class="fragment"><code data-trim>
                    test: / [\\/]node_modules[\\/]/,
                </code></pre>
                <p class="fragment">Instead of <b><i>excluding</i></b> as we do with our <b>loaders</b> in <b>webpack.base.config.js</b>, we are <b><i>testing</i></b> for the <code>/node_modules/</code> directory. In other words, our <a href="https://hackernoon.com/the-100-correct-way-to-split-your-chunks-with-webpack-f8a9df5b7758">vendor cacheGroups</a>                    refers to and is used for any module being loaded from node_modules.</p>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment"><b>cacheGroups:</b> vendor</p>
                <pre class="fragment"><code data-trim>
                name(module) {
                    // get the name. E.g. node_modules/packageName/not/this/part.js
                    // or node_modules/packageName
                    const packageName = module.context.match(/[\\/]node_modules[\\/](.*?)([\\/]|$)/)[1];
                    // npm package names are URL-safe, but some servers don't like @ symbols
                    return `npm.${packageName.replace('@', '')}`;
                },
                </code></pre>
                <p class="fragment">
                    the <b>name</b> function with the <b><i>parameter</i></b> <b>module</b> passed in to it, contains a return statement which will generate the name of a chunk if conditions set in the value of the packageName variable are met.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment"><b>cacheGroups:</b> vendor</p>
                <pre class="fragment"><code data-trim>
                name(module) {}
                </code></pre>
                <p class="fragment">
                    Providing a string or function to generate the name of a split chunk allows you to use a custom name. Here we are providing a function. To learn more, please click <a href="https://webpack.js.org/plugins/split-chunks-plugin/">here</a>.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment"><b>cacheGroups:</b> vendor</p>
                <pre class="fragment"><code data-trim>
                const packageName = module.context.match(/[\\/]node_modules[\\/](.*?)([\\/]|$)/)[1];
                </code></pre>

                <p class="fragment">So <b><i>why</i></b> <code class="fragment">module.context</code>? <a href="https://webpack.js.org/configuration/entry-context/">context</a> is an absolute string to the directory that contains the entry files. like:</p>
                <pre class="fragment"><code data-trim>
                    module.exports = {
                        //...
                        context: path.resolve(__dirname, 'app')
                    };
                </code></pre>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment"><b>cacheGroups:</b> vendor</p>
                <pre class="fragment"><code data-trim>
                const packageName = module.context.match(/[\\/]node_modules[\\/](.*?)([\\/]|$)/)[1];
                </code></pre>
                <p class="fragment">
                    A <a href="https://webpack.js.org/guides/dependency-management/">context</a> is created if your request contains expressions, so the <b><i>exact</i></b> <b>module</b> is <b><i>not</i></b> <b>known</b> on compile time.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment"><b>cacheGroups:</b> vendor</p>
                <p class="fragment">webpack parses the require() call and extracts some information:</p>
                <pre class="fragment"><code data-trim>
                Directory: ./template 
                Regular expression: /^.*\.ejs$/
                </code></pre>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment"><b>cacheGroups:</b> vendor</p>
                <pre class="fragment"><code data-trim>
                const packageName = module.context.match(/[\\/]node_modules[\\/](.*?)([\\/]|$)/)[1];
                </code></pre>
                <p class="fragment">A
                    <a href="https://webpack.js.org/guides/dependency-management/">context module</a> is generated. It contains references to all modules in that directory that can be required with a request matching the regular expression.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment"><b>cacheGroups:</b> vendor</p>
                <p class="fragment">So if module.context matches the regular expression passed to .match() method, it will be returned via the following:</p>
                <pre class="fragment"><code data-trim>
                    // npm package names are URL-safe, but some servers don't like @ symbols
                    return `npm.${packageName.replace('@', '')}`;
                </code></pre>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment"><b>cacheGroups:</b> vendor</p>
                <pre class="fragment"><code data-trim>
                    // npm package names are URL-safe, but some servers don't like @ symbols
                    return `npm.${packageName.replace('@', '')}`;
                </code></pre>
                <p class="fragment">We remove any "@" from any package names, because some servers don't like the "@" symbol. Have you ever tried to search for info regarding a package where the name starts with "@"? The browser rejects it! The same principle applies here.</p>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment"><b>cacheGroups:</b> styles</p>
                <pre class="fragment"><code data-trim>
                styles: {
                    name: 'main',
                    test: /\.css$/,
                    chunks: 'all',
                    enforce: true
                }
                </code></pre>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment"><b>cacheGroups:</b> styles</p>
                <pre class="fragment"><code data-trim>
                name: 'main',
                </code></pre>
                <p class="fragment">
                    I wanted to name the beginning of my css main, so I added the name property for cacheGroup styles. otherwise, it would end up being a number id followed by a [hash].[ext]. And I did not want that!
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment"><b>cacheGroups:</b> styles</p>
                <pre class="fragment"><code data-trim>
                test: /\.css$/,
                </code></pre>
                <p class="fragment">The test property checks for chunks that end in .css.</p>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment"><b>cacheGroups:</b> styles</p>
                <pre class="fragment"><code>chunks: 'all',</code></pre>
                <p class="fragment">
                    chunks: 'all' ensures that all css is extracted into one file. I dynamically imported my Speech.js into my top level App.js, so not only did I split the Speech.js code away from main.js, but I also split away Speech.js's associated styles residing in
                    Speech.scss (and compiled to Speech.css) from main.css. I ended up with 2 style chunks/files.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment"><b>cacheGroups:</b> styles</p>
                <pre class="fragment"><code data-trim>
                enforce: true
                </code></pre>
                <p class="fragment">
                    The enforce property ensured that aside from the Speech.css file, all other styles would reside in one main.css file.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment"><b>optimization:</b> runtimeChunk</p>
                <pre class="fragment"><code data-trim>
                runtimeChunk: 'single',
                </code></pre>
                <p class="fragment">
                    creates a "single" <a href="https://interglobalmedia.github.io/react-workflow-updated-2018/#/88">runtime</a> file to be shared with all generated chunks. I had an equivalent configuration in the first edition, and wanted to keep it
                    that way!
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment"><b>optimization:</b> minimizer</p>
                <pre class="fragment"><code data-trim>
                minimizer: [
                    new UglifyJSPlugin(),
                    new OptimizeCssAssetsPlugin()
                ],
                </code></pre>
                <p class="fragment">
                    optimization.minimize property by default tells webpack to minimize the js bundle using the
                    <a href="https://webpack.js.org/plugins/uglifyjs-webpack-plugin/">UglifyjsWebpackPlugin</a>. I am using two minimizers, one for js, and the other for css, so I use the optimization.minimizer property, an array.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment"><b>optimization:</b> minimizer</p>
                <p class="fragment">
                    Adding <b>new UglifyJSPlugin()</b> is probably a bit redundant (now that I know better), but I had to add it in the first edition, so it was a matter of habit!
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment">plugins</p>
                <pre class="fragment"><code data-trim>
                    plugins: [
                        new ManifestPlugin({
                            fileName: ('asset-manifest.json')
                        }),
                        new webpack.HashedModuleIdsPlugin(),
                        new Visualizer({ filename: './statistics.html'}),
                        new BundleAnalyzerPlugin()
                    ]
                </code></pre>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment">plugins</p>
                <pre class="fragment"><code data-trim>
                new ManifestPlugin({
                    fileName: ('asset-manifest.json')
                }),
                </code></pre>
                <p class="fragment">the webpack-manifest-plugin creates the asset-manifest.json that generates the manifest data mentioned in <a href="https://interglobalmedia.github.io/react-workflow-updated-2018/#/88">slide 88</a>, <a href="https://interglobalmedia.github.io/react-workflow-updated-2018/#/89">slide 89</a>,
                    and <a href="https://interglobalmedia.github.io/react-workflow-updated-2018/#/90">slide 90</a>.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment">asset-manifest.json</p>
                <p class="fragment">An <b>asset-manifest.json</b> file is generated in the <b><i>root ('/') directory</i></b> with a mapping of <b><i>all</i></b> <b>source file names</b> to their corresponding <b>output file</b>. Like:
                </p>
                <pre class="fragment"><code data-trim>
                                runtime.js": "scripts/runtime.f6f71c9f7a8cf14b349f.chunk.js",
                                "vendors~main.js": "scripts/vendors~main.1ad1cd98b3cea083930b.chunk.js",
                                </code></pre>
                <p>Please visit the <b>asset-manifest.json</b> <a href="https://github.com/interglobalmedia/speech-to-text-app/blob/master/dist/asset-manifest.json">source
                    code</a>.
                </p>
            </section>
            <section data-background="#ffc600" data-background-image="images/manifesting.jpg " data-background-size="cover " data-background-position="center" data-background-repeat="no-repeat">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment"><b>asset-manifest.json</b></p>
                <p class="fragment" style="background: rgba(250, 235, 215, 0.6)">As mentioned earlier, the runtime along with the manifest data residing in asset-manifest.json, is basicallyc all the code webpack needs to connect your modularized app while it's running in the browser.
            </section>
            <section data-background="#ffc600" data-background-image="images/manifesting.jpg " data-background-size="cover " data-background-position="center" data-background-repeat="no-repeat">
                <h3>webpack.prod.config.js</h3>
                <p class="fragment"><b>asset-manifest.json</b></p>
                <p class="fragment" style="background: rgba(250, 235, 215, 0.6)">
                    It contains the loading and resolving logic needed to connect your modules as they interact. This includes connecting modules that have already been loaded into the browser as well as logic to lazy-load the ones that haven't.</p>
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>HashedModuleIdsPlugin</h3>
                <p class="fragment ">The previous <b>build output</b> in <b>Terminal</b> is in part possible thanks to the <code class="fragment ">HashedModuleIdsPlugin</code>. Note the <b><i>4 character</i></b> <b>hashes</b> within <b><i>brackets</i></b>. Visit <a class="fragment"
                        href="https://interglobalmedia.github.io/react-workflow-presentation/#/51">slide
        51</a> to
                    <a class="fragment" href="slide 55">slide 55</a> of the <b>first edition</b> to learn more.</p>
            </section>
            <section data-background="#ffc600">
                <h3>Publishing to gh-pages on Build</h3>
                <pre class="fragment "><code data-trim>
                    > tic-tac-toe-no-cra@0.0.1 deploy /Users/mariacam/Development/tic-tac-toe-no-cra
                    > gh-pages -d dist
                    
                    Published
                </code></pre>
                <p class="fragment"><code class="fragment">gh-pages -d dist</code> is the value of my custom script <code class="fragment">npm run deploy</code>. It is possible because of the <b class="fragment">gh-pages</b> npm dependency.</p>
            </section>
            <section data-background="#ffc600">
                <h3>Separating Concerns</h3>
                <p class="fragment ">The current build results in a separate file called <b class="fragment">asset-manifest.json</b> containing the <code class="fragment ">manifest data</code> mentioned previously. In my previous workflow, a file called <b class="fragment ">runtime.js</b>,
                    but no asset-manifest.json. Here there is a separation of concerns as both an asset-manifest.json and a runtime.js is created.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>HtmlWebpackPlugin</h3>
                <p class="fragment ">
                    Because my webpack configuration is using the <code class="fragment ">HtmlWebpackPlugin</code>, there is no need to worry about adding the <b class="fragment "><i>script tag</i></b> for the <b class="fragment ">manifest</b>. The plugin
                    adds a <b class="fragment "><i>reference</i></b> to <code class="fragment ">index.html</code>.
                </p>
            </section>
            <section data-background="#ffc600 ">
                <h3>HtmlWebpackPlugin</h3>
                <pre class="fragment "><code data-trim>
                    plugins: [
                        new HtmlWebpackPlugin({
                            template: 'src/index.html',
                            favicon: 'src/favicon.ico',
                            styles: 'src/styles.css',
                            inject: true
                        }),
                    ]
                </code></pre>
                <p class="fragment ">
                    My <code>HtmlWebpackPlugin</code> configuration in my <code>config/webpack-base.config.js</code>.
                </p>
            </section>
            <section data-background="#ffc600 ">
                <h3>HtmlWebpackPlugin Configuration</h3>
                <p><b>template</b></p>
                <p class="fragment ">
                    is the <b>webpack</b> <code>require path</code> to the <b>template</b>.
                </p>
            </section>
            <section data-background="#ffc600 ">
                <h3>HtmlWebpackPlugin Configuration</h3>
                <p><b>favicon</b></p>
                <p class="fragment ">
                    gives the given <code>favicon path</code> to the <b>output html</b>.
                </p>
            </section>
            <section data-background="#ffc600 ">
                <h3>HtmlWebpackPlugin Configuration</h3>
                <p><b>styles</b></p>
                <p class="fragment ">
                    gives the given <code>styles path</code> to the <b>output html</b>.
                </p>
            </section>
            <section data-background="#ffc600 ">
                <h3>HtmlWebpackPlugin Configuration</h3>
                <p><b>inject</b></p>
                <p class="fragment ">
                    <b><i>default</i></b> is set to <code class="fragment ">true</code>. I always like to make sure that my <b class="fragment ">JS</b> assets are placed at the bottom of the <code class="fragment ">body</code> element, so I use
                    <code class="fragment ">true</code>. You can check out other options in the <b>HtmlWebpackPlugin</b>
                    <a href="https://github.com/jantimon/html-webpack-plugin " target="_blank ">docs</a>.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Separating Concerns</h3>
                <p class="fragment ">
                    Separating <span class="fragment "><code>runtime</code></span> code from <span class="fragment "><code>vendor</code></span> code is the first step towards making sure that the <span class="fragment "><code>vendor hash</code></span>                    does not <b><i>change</i></b> with each <b><i>new</i></b> <b>build</b> unless a <b><i>new</i></b> <b>3rd party plugin</b> is added.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Separating Concerns</h3>
                <p class="fragment">Using <b>[contenthash]</b> instead of <b>[chunkhash]</b> or <b>[hash]</b> is another step towards making sure that the <b>vendor</b> <b><i>hash</i></b> does <b><i>not</i></b> <b>change</b> with <b><i>each</i></b> <b>new build</b> <b><i>unless</i></b>                    a <b><i>new</i></b> <b>3rd party plugin</b> is <b>added</b>.</p>
            </section>
            <section data-background="#ffc600 ">
                <h3>Resolving Order</h3>
                <pre class="fragment "><code data-trim>
				[gQNZ] ./src/style/style.css 307 bytes {1} [built]
				[lVK7] ./src/index.js 846 bytes {1} [built]
				[olkN] ./src/store.js 354 bytes {1} [built]
				[pnOm] ./src/App.js 3.01 kB {1} [built]
				[tuRH] ./src/reducers/todo.js 874 bytes {1} [built]
				[z7yQ] ./src/logo.svg 3.52 kB {1} [built]
				+ 2 hidden modules
						</code></pre>
                <p class="fragment ">
                    However, this <span class="fragment "><code>bundle splitting</code></span> is not enough. Each time a new build takes place, each <span class="fragment "><code>module.id</code></span> is incremented based on resolving order by default.
                    When the resolving order is changed, the <span class="fragment "><code>module.id</code></span> changes.
                </p>
            </section>
            <section data-background="#ffc600 ">
                <h3>Blocking Change</h3>
                <p>
                    So how can we prevent vendor's <span class="fragment "><code>[contenthash]</code></span> from changing? There are two <b><i>webpack</i></b> plugins that can get us there. One is the <span class="fragment
                    "><code>NamedModulesPlugin</code>,</span> and the other is the <span class="fragment "><code>HashedModuleIdsPlugin</code>.</span>
                </p>
            </section>
            <section data-background="#ffc600 ">
                <h3>Named Modules Plugin</h3>
                <pre class="fragment "><code data-trim>
				new webpack.NamedModulesPlugin(),
				</code></pre>
                <p class="fragment ">
                    Uses the <span class="fragment "><code>path to the module</code></span> instead of a <span class="fragment "><code>numerical identifier.</code></span> It's useful in <span class="fragment "><code>development</code></span> because the
                    output is more readable, but it also takes a bit longer to run.
                    <p class="fragment ">
                        <b>Update:</b> This now can be removed in <code>config/webpack.base.config.js</code> as it is a default in dev mode.
                    </p>
                </p>
                <aside class="notes ">
                    Run a new build in Terminal to show that only bundle.js and runtime.js [chunkhashes] change. Then even remove the call to NamedModulesPlugin in webpack development config to show that vendor.js [chunkhash] changes when that happens. Then put it back.
                </aside>
            </section>
            <section data-background="#ffc600 ">
                <h3>HashedModuleIdsPlugin</h3>
                <pre class="fragment "><code data-trim>
				new webpack.HashedModuleIdsPlugin(),
				</code></pre>
                <p class="fragment ">
                    Recommended for <span class="fragment "><code>production</code></span> builds. It causes <span class="fragment "><code>hashes</code></span> to be based on the <span class="fragment "><code>relative path of the module,</code></span>                    generating a <span class="fragment "><code>4 character string</code></span> as the <span class="fragment "><code>module id.</code></span>
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>HashedModuleIdsPlugin: <a href="https://webpack.js.org/guides/caching/">before</a></h3>
                <p class="fragment">Let's say our webpack.prod.config.js doesn't include the <b>HashedModuleIdsPlugin</b> and we have made a change to our js code. we might have added another React component, a helper function, etc. We would expect the hashes of our main
                    js bundle and our asset-manifest.json to change on production build, but not our vendor bundle. However, all three change. <b><i>Why?</i></b></p>
            </section>
            <section data-background="#ffc600">
                <h3>HashedModuleIdsPlugin: <a href="https://webpack.js.org/guides/caching/">before</a></h3>
                <p class="fragment">Because each webpack module.id changes whenever the resolving order is changed. The resolving order changes whenever the module.id has changed. The vendor bundle hash changes because its resolving order has changed and therefore its module.id
                    as well.</p>
            </section>
            <section data-background="#ffc600">
                <h3>HashedModuleIdsPlugin: <a href="https://webpack.js.org/guides/caching/">before</a></h3>
                <ul class="fragment">
                    <li class="fragment">
                        <b>main js bundle:</b> changed because new content was added.
                    </li>
                    <li class="fragment">
                        <b>vendor bundle:</b> changed because its module.id changed because its resolving order changed.
                    </li>
                    <li class="fragment">
                        <b>asset-manifest.json:</b> changed because it contains a reference to a new module.
                    </li>
                </ul>
            </section>
            <section data-background="#ffc600">
                <h3>HashedModuleIdsPlugin: <a href="https://webpack.js.org/guides/caching/">after</a></h3>
                <p><b class="fragment">Vendor remains constant</b></p>
                <p class="fragment">
                    Let's say we add the HashedModuleIdsPlugin to our webpack production config and then ran another build. Our hash should stay consistent between builds. If we were to make a change to our js code again, the vendor hash should still remain the same because
                    no changes were made to the bundle. <b><i>Check it for yourself!</i></b>
                </p>
                <aside class="notes">
                    Run a new build in Terminal to show that only bundle.js and runtime.js [contenthashes] change. Then even remove the call to HashedModuleIdsPlugin in webpack production config to show that vendor.js [contenthash] changes when that happens. Then put it
                    back.
                </aside>
            </section>
            <section data-background="#ffc600">
                <h3>Loaders</h3>
                <p class="fragment ">
                    <b>webpack</b> <span class="fragment "><code>loaders</code></span> transform your files into modules as they are added to your <span class="fragment "><code>dependency graph</code>.</span> <span class="fragment "><code>Loaders</code></span>                    have 2 main purposes:
                </p>
                <ul>
                    <li class="fragment">
                        Identify which file or files should be transformed by a loader (<code>test</code> property)
                    </li>
                    <li class="fragment">
                        Transform those files so that they can be added to your dependency graph, and eventually your <code>bundle.js</code>. (<code>use</code> property)
                    </li>
                </ul>
            </section>
            </section>
            <section data-background="#ffc600">
                <h3>MiniCssExtractPlugin</h3>
                <p class="fragment"><b><i>Replaced</i></b> the <code class="fragment">ExtractTextPlugin</code> in <b>webpack 4</b>.</p>
            </section>
            <section data-background="#ffc600">
                <h3>MiniCssExtractPlugin</h3>
                <blockquote class="fragment ">
                    The <b>webpack >= v4.0.0</b> 'support' for <b>extract-text-webpack-plugin</b> was moved to <b>mini-css-extract-plugin</b> as a more lightweight approach for <b>webpack >= v4.0.0</b> and <b>ETWP</b> entered
                    <b><i>maintenance mode</i></b>... - <a href="https://github.com/webpack-contrib/extract-text-webpack-plugin/issues/743 " target="_blank ">Michael Ciniawsky, member, webpack-contrib</a>
                </blockquote>
            </section>
            <section data-background="#ffc600 ">
                <h3>MiniCssExtractPlugin</h3>
                <p class="fragment ">
                    <b class="fragment "><i>Extracts</i></b> <b>CSS</b> into <b class="fragment ">separate</b> files. It creates a <b class="fragment ">CSS</b> file per <b class="fragment ">JS</b> file which contains <b class="fragment ">CSS</b>. Great
                    for
                    <b class="fragment ">React</b> and <b class="fragment ">CSS Modules</b>!
                </p>
            </section>
            <section data-background="#ffc600 ">
                <h3>MiniCssExtractPlugin</h3>
                <p class="fragment ">
                    Supports <code class="fragment ">on-demand-loading</code> of <b class="fragment ">CSS</b> and <b class="fragment ">Source
                        Maps</b>.
                </p>
            </section>
            <section data-background="#ffc600 ">
                <h3>vs ExtractTextWebpackPlugin</h3>
                <ul>
                    <li class="fragment ">Async loading</li>
                    <li class="fragment ">No duplicate compilation (performance)</li>
                    <li class="fragment ">Easier to use</li>
                    <li class="fragment ">Specific to CSS</li>
                    <li class="fragment ">Does NOT support HMR <b><i>yet</i></b></li>
                </ul>
            </section>
            <section data-background="#ffc600 ">
                <h3>MiniCssExtractPlugin</h3>
                <p>Because it does <b><i>not</i></b> support <b>HMR</b>, I have to use <b>style-loader</b> in <b>dev</b> mode. Otherwise, I would have to do a <b><i>manual</i></b> page refresh to view my style changes. If you are acquainted with the <b>first edition</b>                    of the <b>workflow</b>, you might remember that
                    <code>style-loader</code> <b><i>does</i></b> support <b>HMR</b>.</p>
            </section>
            <section data-background="#ffc600 ">
                <h3>MiniCssExtractPlugin</h3>
                <pre class="fragment "><code data-trim>
                    {
                        test: /\.(scss|sass|css)$/,
                        exclude: /node_modules/,
                        loaders: [
                            MiniCssExtractPlugin.loader,
                            {
                            loader: 'css-loader',
                            options: {
                                modules: true,
                                sourceMap: true,
                                importLoaders: 1,
                                localIdentName: '[local]___[hash:base64:5]'
                            },
                        },
                            'postcss-loader',
                            'sass-loader'
                        ]
                    },
                </code></pre>
            </section>
            <section data-background="#ffc600 ">
                <h3>CSS test property</h3>
                <pre class="fragment "><code data-trim>
                    test: /\.(scss|sass|css)$/,
                </code></pre>
                <p class="fragment ">
                    This <b>test property</b> includes <code class="fragment ">.scss</code>, <code class="fragment ">.sass</code>, and <code class="fragment ">.css</code> extensions, because I use <code class="fragment
                    ">.scss</code> in my <b class="fragment ">React applications</b>. That <code class="fragment ">.scss</code> then has to be compiled into <code class="fragment ">.css</code>. This is a much more efficient way of implementing the <b>test property</b>.
                </p>
            </section>
            <section data-background="#ffc600 ">
                <h3>CSS exclude property</h3>
                <pre class="fragment "><code data-trim>
                            exclude: /node_modules/,
            				</code></pre>
            </section>
            <section data-background="#ffc600 ">
                <h3>MiniCssExtractPlugin.loader</h3>
                <p class="fragment ">How you call the MiniCssExtractLoader.</p>
            </section>
            <section data-background="#ffc600 ">
                <h3>CSS Loader and CSS Modules</h3>
                <p class="fragment ">
                    This <b>workflow</b> supports <b>CSS Modules</b>. In order to make that happen, we have to add the following <b>options</b> to our
                    <b>css-loader</b>:
                </p>
                <pre class="fragment "><code data-trim>
                    loader: 'css-loader',
                    options: {
                        modules: true,
                        sourceMap: true,
                        importLoaders: 1,
                        localIdentName: '[local]___[hash:base64:5]'
                    },
                </code></pre>
            </section>
            <section data-background="#ffc600">
                <h3>CSS Modules</h3>
                <p class="fragment">the <b><i>what</i></b></p>
                <p class="fragment">
                    Some people want to keep their external stylesheets but want to <b><i>localize</i></b> their styles. That's where <b>CSS Modules</b> come in. To view my presentation entitled <a href="https://interglobalmedia.github.io/evolution-in-design-and-development/#/">The Evolution in Design and Development: A Melting Pot</a>,
                    in which I devote a section on <b>CSS Modules</b>, please click <a href="https://interglobalmedia.github.io/evolution-in-design-and-development/#/107">here</a>.</a>
                </p>
                <p class="fragment"><b>Note:</b> as of 2.0, CRA <b><i>supports</i></b> <b>CSS Modules</b>.</p>
            </section>
            <section data-background="#ffc600">
                <h3>CSS Modules</h3>
                <p>When you add <b><i>support</i></b> for <b>CSS Modules</b>, whatever styles you add to a particular React component's scss/css file will only affect the styling of that particular component. If you have a component called Speech, a js file
                    called Speech.js, and file called Speech.scss, those styles will only affect Speech.js. That's because you are importing them specifically into Speech.js. You'll get a better understanding if you visit this project's <a>repository</a>                    and study the code.</p>
            </section>
            <section data-background="#ffc600">
                <h3>SCSS, CSS Modules, and React</h3>
                <p class="fragment">
                    Let's use the same example for SCSS in React using CSS Modules, as we do in this project. We would import Speech.scss into Speech.js, and those styles would only affect Speech.js. But maybe we want to have styles global to the whole project that we don't
                    import anywhere. As a matter of fact, we don't even change the syntax of the classNames. We would treat this global styling the same as we would in any application using SCSS. Please visit the <b>Speech To Text App</b>                    <a href="https://github.com/interglobalmedia/speech-to-text-app">repository</a> to see for yourself.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>css hot loader</h3>
                <p class="fragment ">
                    Supports <span class="fragment "><code>hot module replacement</code></span> <span class="fragment "><code>(HMR)</code></span> for an <b>extracted css file</b>. <span class="fragment
                    "><code>shepherdwind</code>,</span> the <b>creator</b> of <b>css-hot-loader</b>, came up with the idea because <span class="fragment "><code>style-loader</code>,</span> which also can achieve css hot reload, needs to <b>inject</b>                    a <b>style tag</b> into <b>index.html</b>. And this can happen <b><i>before</i></b> JS scripts are <b>loaded</b>, resuslting in a page with no styles.
                </p>
                <a class="fragment " href="https://github.com/shepherdwind/css-hot-loader ">css-hot-loader on Github</a>
                <a class="fragment " href="https://github.com/webpack-contrib/extract-text-webpack-plugin/issues/30 ">extract-text-webpack-plugin issue #30</a>
                <a class="fragment " href="https://github.com/webpack-contrib/extract-text-webpack-plugin/pull/89 ">extract-text-webpack-plugin issue #89</a>
            </section>
            <section data-background="#ffc600 ">
                <h3>css hot loader</h3>
                <p class="fragment ">Does not play nice with the <b>MiniCssExtractPlugin</b>, so I have removed it from the workflow for now. Too bad. It is fantastic.</p>
            </section>
            <section data-background="#ffc600 ">
                <h3>Hot Module Replacement</h3>
                <p class="fragment ">
                    <span class="fragment "><code>HMR</code></span> <span class="fragment "><code>exchanges,</code></span> <span class="fragment "><code>adds,</code></span> or <span class="fragment "><code>removes</code></span> modules while an app is
                    <span class="fragment "><code>running,</code></span> without a <span class="fragment "><code>full reload</code>.</span> It can speed up <span class="fragment "><code>development</code></span> because:
                </p>
                <ul>
                    <li class="fragment ">
                        Can retain app state which is lost during a full reload.
                    </li>
                    <li class="fragment ">
                        Save valuable development time by only updating what has changed.
                    </li>
                    <li class="fragment ">
                        Tweak styling faster.
                    </li>
                </ul>
            </section>
            <section data-background="#ffc600 ">
                <h3>[contenthash]</h3>
                <p class="fragment ">
                    <span class="fragment "><code>[contenthash]</code></span> returns a hash specific to content. It is available for the <span class="fragment "><code>extract-text-webpack-plugin</code></span> only, and is the most specific hash option
                    available in <b>webpack</b>. And it's great to use with css files for <span class="fragment "><code>browser caching</code>.</span> The hash only changes when the <span class="fragment "><code>css</code></span> changes.
                </p>
            </section>
            <section data-background="#ffc600 ">
                <h3>[contenthash]</h3>
                <p class="fragment ">Apparently, the <b>webpack</b> team has suggested using <code>[contenthash]</code>over <code>[hash]</code> for better long term caching with the MiniCssExtractPlugin. I'm willing to give it a try, as I already use <b>webpack</b>'s new
                    <code>[contenthash]</code> for <b>JS</b> bundles and it works beautifully.</p>
                <p class="fragment ">
                    <ul>
                        <li class="fragment ">
                            <a href="https://github.com/webpack/webpack.js.org/issues/2096 ">
                                Use `[contenthash]` over `[hash]` and `[chunkhash]` for better long term caching #2096
                            </a>
                        </li>
                        <li class="fragment ">
                            <a href="https://webpack.js.org/guides/caching/ ">
                                (Webpack) Caching
                            </a>
                        </li>
                    </ul>
                </p>
            </section>
            <section data-background="#ffc600 ">
                <h3>Image Webpack Loader</h3>
                <pre class="fragment "><code data-trim>
				import logo from './logo.svg';

				<div className="App-header ">
				  <img src={logo} className="App-logo " alt="logo " />
				  <h2>Welcome to React with Redux</h2>
				</div>
						</code></pre>
                <p class="fragment ">
                    <span class="fragment "><code>Image loader</code></span> module for <b>webpack</b>, and this is what it permits you to do in your <span class="fragment
                    "><code>React Component</code>.</span> However, it currently has <b>unresolvable</b> moderately severe <b>vulnerabilities</b>. Until they go away, I am using <code class="fragment ">file-loader</code> for my <b>image</b> needs.
                </p>
            </section>
            <section data-background="#ffc600 ">
                <h3>Plugins</h3>
                <p class="fragment ">
                    <span class="fragment "><code>Loaders</code></span> only execute a transform on a <span class="fragment "><code>per-file</code></span> basis. <span class="fragment "><code>Plugins</code></span> are most commonly used to perform actions
                    and custom functionality on <span class="fragment "><code>"compilations "</code></span> or <span class="fragment "><code>"chunks "</code></span> of your bundled modules.
                </p>
            </section>
            <section data-background="#ffc600 ">
                <h3>Require</h3>
                <pre class="fragment "><code data-trim>
				const htmlWebpackPlugin = require('html-webpack-plugin');
				plugins: [

				]
						</code></pre>
                <p class="fragment ">
                    In order to use a plugin, you have to <span class="fragment "><code>require</code></span> it,
                </p>
            </section>
            <section data-background="#ffc600 ">
                <h3>Add</h3>
                <pre class="fragment "><code data-trim>
                plugins: [
                    new HtmlWebpackPlugin({
                        template: 'src/index.html',
                        favicon: 'src/favicon.ico',
                        styles: 'src/styles.css',
                        inject: true
                    }),
                ]
				</code></pre>
                <p class="fragment ">
                    and then <span class="fragment "><code>add</code></span> it to the <span class="fragment "><code>plugins array</code>.</span> And since you can use the same plugin many times in the same config for different purposes, you need to create
                    an instance of it by calling it with <span class="fragment "><code>new</code>.</span>
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>HTML Webpack Plugin</h3>
                <pre class="fragment "><code data-trim>
                plugins: [
                    new HtmlWebpackPlugin({
                        template: 'src/index.html',
                        favicon: 'src/favicon.ico',
                        styles: 'src/styles.css',
                        inject: true
                    }),
                ]
				</code></pre>
                <p class="fragment ">
                    <span class="fragment ">Simplifies the creation of your <span class="fragment "><code>html</code></span> files.</span> <span class="fragment ">Useful for webpack bundles that include <span class="fragment "><code>hashes</code></span>                    in the <span class="fragment "><code>filenames</code>.</span></span> <span class="fragment ">Great for <span class="fragment "><code>html templating</code>.</span></span>
                </p>
            </section>
            <section data-background="#ffc600 ">
                <h3>Named Modules Plugin</h3>
                <pre class="fragment "><code data-trim>
				new webpack.NamedModulesPlugin(),
				new webpack.optimize.CommonsChunkPlugin({
				  name: 'vendor',
				  minChunks: Infinity
				}),
						</code></pre>
                <p class="fragment ">
                    Will cause the display of the <span class="fragment "><code>relative path</code></span> of a module in Terminal when <span class="fragment "><code>HMR</code></span> is enabled. Good for <span class="fragment "><code>development</code>.</span>
                </p>
                <aside class="notes ">
                    Run a new build in Terminal to show that only bundle.js and runtime.js [chunkhashes] change. Then even remove the call to NamedModulesPlugin in webpack development config to show that vendor.js [chunkhash] changes when that happens. Then put it back.
                </aside>
            </section>
            <section data-background="#ffc600 ">
                <h3>HashedModuleIdsPlugin</h3>
                <pre class="fragment "><code data-trim>
				new webpack.HashedModuleIdsPlugin(),
				new webpack.optimize.CommonsChunkPlugin({
				  name: 'vendor',
				  minChunks: Infinity
				}),
						</code></pre>
                <p class="fragment ">
                    Will cause <span class="fragment "><code>hashes</code></span> to be based on the <span class="fragment "><code>relative path</code></span> of a module in Terminal, generating a <span class="fragment
                    "><code>4 character string</code></span> as the <span class="fragment "><code>module id</code>.</span> Good for <span class="fragment "><code>production</code>.</span>
                </p>
                <aside class="notes ">
                    Run a new build in Terminal to show that only bundle.js and runtime.js [chunkhashes] change. Then even remove the call to HasedModuleIdsPlugin in webpack production config to show that vendor.js [chunkhash] changes when that happens. Then put it back.
                </aside>
            </section>
            <section data-background="#ffc600 ">
                <h3>CRA approach</h3>
                <p class="fragment ">
                    And <span class="fragment "><b><i>CRA</i></b></span> takes the <span class="fragment "><code>scripts</code></span> approach. A lot like creating scripts for <span class="fragment "><b><i>Gulp</i></b></span> or <span class="fragment "><b><i>Grunt</i></b></span>                    tasks.
                </p>
            </section>
            <section data-background="#ffc600 ">
                <h3>Custom NPM Scripts</h3>
                <pre class="fragment "><code data-trim>
                "scripts": {
                    "test": "jest",
                    "lint": "eslint .",
                    "clean": "rimraf dist",
                    "cleanSrc": "rimraf dist/src",
                    "start": "webpack-dev-server --mode development --config config/webpack.base.config.js --open --hot
                    --history-api-fallback --env.PLATFORM=local --env.VERSION=stag",
                    "predeploy": "webpack --mode production --config config/webpack.prod.config.js --env.PLATFORM=production
                    --env.VERSION=stag --progress",
                    "deploy": "gh-pages -d dist"
                },
				</code></pre>
                <p class="fragment ">
                    You can create <span class="fragment"><code>custom</code>,</span> aka <span class="fragment "><code>local</code>,</span> <span class="fragment "><code>npm scripts</code></span> in your <span class="fragment "><code>package.json</code></span>                    file. We went over most of these scripts. The rest were the same in the first edition of this workflow.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>clean script</h3>
                <pre class="fragment "><code data-trim>
				script: {
				  "clean ": "rimraf dist "
				}
				</code></pre>
                <p class="fragment ">
                    Is executed in Terminal by running <span class="fragment "><code>npm run clean</code>.</span> <span class="fragment "><code>rimraf</code></span> is an npm plugin which refers to the <span class="fragment "><code>rm -rf</code></span>                    comand. It cleans everything within the specified directory and all its subdirectories. It's much faster than the <span class="fragment "><code>clean-webpack-plugin</code>,</span> which does the same thing. Same as in the first edition.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>cleanSrc script</h3>
                <pre class="fragment"><code data-trim>
                script: {
                    "cleanSrc": "rimraf dist/src",
                }
                </code></pre>
                <p class="fragment">This script also has not changed since the first edition. I use it to get rid of the src folder which gets injected into dist on production build because of the presence of favicon.ico. I am successful in getting rid of it both in master
                    and gh-pages in the first edition, but then I deploy differently there.</p>
            </section>
            <section data-background="#ffc600">
                <h3>cleanSrc script</h3>
                <pre class="fragment"><code data-trim>
                script: {
                    "cleanSrc": "rimraf dist/src",
                }
                </code></pre>
                <p class="fragment">In future apps, I probably will revert to the old way of deployment. It's much more complex, but provides a clean solution. It's not a big deal, but it bugs me that I have a folder which serves no purpose!</p>
            </section>
            <section data-background="#ffc600">
                <h3>POSTCSS</h3>
                <p class="fragment">
                    In this workflow, I only use <b>POSTCSS</b> for <b>autoprefixer</b>. For that, I only need to add the <code>postcss-loader</code> in <code>webpack.base.config.js</code> and <b><i>require</i></b> <b>autoprefixer</b> in <b>postcss.config.js</b>.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Wrap Up</h3>
                <p class="fragment">
                    When I first started working on my <b>React workflow</b>, it was some time back. I even left it for a bit and then returned to continue. Much has changed since then.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>CRA</h3>
                <p class="fragment">
                    <b><i>CRA</i></b> has piled on more <b><i>features</i></b> and <b><i>documentation</i></b>! Whether you end up using it or not, it is worth following them on <b><i>Github</i></b>, visiting their <b><i>issues threads</i></b>, and becoming
                    acquainted with their <b>documentation</b>. They even suggest <b><i>alternatives</i></b>!
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Custom React App - Amido</h3>
                <blockquote class="twitter-tweet tw-align-center" data-lang="en">
                    <p lang="en" dir="ltr">Customising <a href="https://twitter.com/reactjs">@reactjs</a> create-react-app has been super useful; I&#39;ve written a blog post for <a href="https://twitter.com/WeAreAmido">@WeAreAmido</a> about it <a href="https://t.co/JNEPSQJmIT">https://t.co/JNEPSQJmIT</a></p>&mdash;
                    Callum Mellor-Reed (@callummr) <a href="https://twitter.com/callummr/status/910079163998130176">September 19, 2017</a></blockquote>
                <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
            </section>
            <section data-background="#ffc600">
                <h3>React</h3>
                <p class="fragment">
                    The <b>React</b> team has been sensitive to developers' needs. For the longest time, they were discussing how to better serve developers in development and production. According to threads I came across on <b>Github</b>, many developers
                    were <b>deploying</b> <b><i>development</i></b> instead of <b><i>production</i></b> code without realizing it. So <b>React</b> responded by adding a little icon to <b>React DevTools</b> that would signal to developers whether their
                    application was <b>deployed</b> with <b><i>development</i></b> or <b><i>production</i></b> code.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>React DevTools</h3>
                <p class="fragment">
                    If a
                    <B>React</B> application is deployed with <b><i>development</i></b> code, the <b>icon</b> appears <b><i>red</i></b>. If it is deployed with <b><i>production</i></b> code, it appears <b>black</b>. In addition, a new <b><i>warning</i></b> appears
                    in the <b>browser console</b> telling you if your application is running with minified <b><i>development</i></b> code rather than <b><i>production</i></b>.
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>webpack</h3>
                <p class="fragment">
                    <b><i>webpack</i></b> has drastically improved their <b>documentation</b>, making it easier to master. If you haven't already checked it out, you should. They're doing a really great job!
                </p>
            </section>
            <section data-background="#ffc600">
                <h3>Bye Bye patents!</h3>
                <p>
                    I learned last week via <a href="https://twitter.com/wesbos">@wesbos</a> that Facebook is relicensing <b><i>React</i></b>, <b><i>Jest</i></b>, <b><i>Flow</i></b>, and <b><i>Immutable.js</i></b> under the <b>MIT license</b>!
                    <blockquote>
                        We're relicensing these projects because React is the foundation of a broad ecosystem of open source software for the web, and we don't want to hold back forward progress for nontechnical reasons. - <a href="https://code.facebook.com/posts/300798627056246/relicensing-react-jest-flow-and-immutable-js/"
                            target="_blank">Adam Wolff, Facebook Engineering</a>
                    </blockquote>
                </p>
                <p><b>Note:</b> for posterity only!</p>
            </section>
            <section data-background="#ffc600">
                <h3>Resources</h3>
                <ul>
                    <li>
                        <a href="https://babeljs.io/blog/2015/10/31/setting-up-babel-6" target="_blank">Setting Up Babel 6</a>
                    </li>
                    <li>
                        <a href="https://babeljs.io/blog/2018/07/27/removing-babels-stage-presets" target="_blank">Removing Babel's Stage
        Presets</a>
                    </li>
                    <li>
                        <a href="https://stackoverflow.com/questions/52237855/support-for-the-experimental-syntax-classproperties-isnt-currently-enabled" target="_blank">Support for the experimental syntax 'classProperties' isn't currently enabled</a>
                    </li>
                    <li>
                        <a href="https://github.com/babel/babel/tree/master/packages/babel-plugin-proposal-throw-expressions" target="_blank">babel
        plugin proposal throw expressions</a>
                    </li>
                    <li>
                        <a href="https://reactjs.org/docs/handling-events.html" target="_blank">Handling Events</a>
                    </li>
                    <li>
                        <a href="https://medium.freecodecamp.org/this-is-why-we-need-to-bind-event-handlers-in-class-components-in-react-f7ea1a6f93eb" target="_blank">why do we need to bind() event handlers in React?</a>
                    </li>
                </ul>
            </section>
            <section data-background="#ffc600">
                <h3>Resources contd (new)</h3>
                <ul>
                    <li>
                        <a href="https://medium.freecodecamp.org/how-to-combine-webpack-4-and-babel-7-to-create-a-fantastic-react-app-845797e036ff" target="_blank">How to combine Webpack 4 and Babel 7 to create a fantastic React app</a>
                    </li>
                    <li>
                        <a href="https://github.com/tc39/proposal-export-ns-from" target="_blank">proposal export ns from</a>
                    </li>
                    <li>
                        <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import" target="_blank">import</a>
                    </li>
                    <li>
                        <a href="https://webpack.js.org/guides/code-splitting/" target="_blank">(Webpack) Code Splitting</a>
                    </li>
                    <li>
                        <a href="https://webpack.js.org/plugins/split-chunks-plugin/" target="_blank">SplitChunksPlugin</a>
                    </li>
                    <li>
                        <a href="https://webpack.js.org/plugins/html-webpack-plugin/" target="_blank">HtmlWebpackPlugin</a>
                    </li>
                </ul>
            </section>
            <section data-background="#ffc600">
                <h3>Resources contd (new)</h3>
                <ul>
                    <li>
                        <a href="https://webpack.js.org/plugins/mini-css-extract-plugin/" target="_blank">MiniCssExtractPlugin</a>
                    </li>
                    <li>
                        <a href="https://survivejs.com/webpack/optimizing/separating-manifest/" target="_blank">Separating a (webpack)
        Manifest</a>
                    </li>
                    <li>
                        <a href="https://www.valentinog.com/blog/webpack-tutorial/">Webpack 4 Tutorial: from 0 Conf to Production Mode</a>
                    </li>
                </ul>
            </section>
        </div>
    </div>
    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>
        // More info about config & dependencies:
        // - https://github.com/hakimel/reveal.js#configuration
        // - https://github.com/hakimel/reveal.js#dependencies
        Reveal.initialize({
            slideNumber: true,
            history: true,
            progress: true,
            keyboard: true,
            overview: true,
            touch: true,
            fragments: true,
            showNotes: false,
            dependencies: [{
                src: 'plugin/markdown/marked.js'
            }, {
                src: 'plugin/markdown/markdown.js'
            }, {
                src: 'plugin/notes/notes.js',
                async: true
            }, {
                src: 'plugin/highlight/highlight.js',
                async: true,
                callback: function() {
                    hljs.initHighlightingOnLoad();
                }
            }]
        });
    </script>
</body>

</html>